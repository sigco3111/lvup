"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_components_battle_BattleScene_tsx";
exports.ids = ["_ssr_src_components_battle_BattleScene_tsx"];
exports.modules = {

/***/ "(ssr)/./src/components/battle/BattleScene.tsx":
/*!***********************************************!*\
  !*** ./src/components/battle/BattleScene.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BattleScene)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/progress */ \"(ssr)/./src/components/ui/progress.tsx\");\n/* harmony import */ var _utils_supabase_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/supabase/client */ \"(ssr)/./src/utils/supabase/client.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _actions_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/actions/game */ \"(ssr)/./src/actions/game.ts\");\n/* harmony import */ var _components_stage_StageContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/stage/StageContext */ \"(ssr)/./src/components/stage/StageContext.tsx\");\n/* harmony import */ var _components_common_Notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/common/Notifications */ \"(ssr)/./src/components/common/Notifications.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n/**\n * 전투 장면을 표시하는 컴포넌트\n * 자동 전투 로직과 시각적 표현을 담당\n */ function BattleScene({ onLogUpdate, onGoldChange, onExperienceGained, showInventory }) {\n    const supabase = (0,_utils_supabase_client__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n    const { currentStage, stageProgress, incrementKilledMonsterCount, setBossBattleState } = (0,_components_stage_StageContext__WEBPACK_IMPORTED_MODULE_5__.useStage)();\n    const { addNotification } = (0,_components_common_Notifications__WEBPACK_IMPORTED_MODULE_6__.useNotification)();\n    const [character, setCharacter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [battleState, setBattleState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isInBattle: false,\n        currentMonster: null,\n        lastDamageDealt: null,\n        lastDamageReceived: null,\n        battleTurn: 0,\n        isAutoMode: false\n    });\n    const [isDataLoaded, setIsDataLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [gameData, setGameData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        gold: 0\n    });\n    const [battleTimer, setBattleTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // 전투 타이머 \n    // 캐릭터 정보 로드\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function loadCharacterData() {\n            try {\n                // 사용자 인증 정보 가져오기 (getUser 사용)\n                const { data: { user }, error: authError } = await supabase.auth.getUser();\n                if (authError || !user) {\n                    console.error(\"사용자 인증 오류:\", authError);\n                    return;\n                }\n                // 캐릭터 정보 로드\n                const { data: characterData, error } = await supabase.from(\"user_characters\").select(\"*\").eq(\"user_id\", user.id).single();\n                if (error) throw error;\n                // 게임 데이터(골드 등) 로드\n                const { data: gameData, error: gameDataError } = await supabase.from(\"user_game_data\").select(\"gold, current_stage_id\").eq(\"user_id\", user.id).maybeSingle(); // single() 대신 maybeSingle() 사용\n                if (gameDataError) {\n                    console.error(\"게임 데이터 로드 실패:\", gameDataError);\n                } else {\n                    // 게임 데이터가 없는 경우 새로 생성\n                    if (!gameData) {\n                        try {\n                            // 기본 스테이지 ID 가져오기\n                            const { data: firstStage } = await supabase.from(\"game_stages\").select(\"id\").order(\"sequence\", {\n                                ascending: true\n                            }).limit(1).single();\n                            const defaultStageId = firstStage ? firstStage.id : 1; // 기본값 설정\n                            // 새로운 게임 데이터 생성\n                            const { data: newGameData, error: insertError } = await supabase.from(\"user_game_data\").insert({\n                                user_id: user.id,\n                                gold: 0,\n                                current_stage_id: defaultStageId,\n                                created_at: new Date().toISOString(),\n                                updated_at: new Date().toISOString()\n                            }).select().single();\n                            if (insertError) {\n                                console.error(\"게임 데이터 생성 실패:\", insertError);\n                            } else {\n                                setGameData({\n                                    gold: newGameData.gold || 0\n                                });\n                                if (onGoldChange) onGoldChange(newGameData.gold || 0);\n                            }\n                        } catch (insertError) {\n                            console.error(\"게임 데이터 생성 중 오류:\", insertError);\n                        }\n                    } else {\n                        // 기존 게임 데이터 사용\n                        setGameData({\n                            gold: gameData.gold || 0\n                        });\n                        // 부모 컴포넌트에 골드 정보 전달\n                        if (onGoldChange) onGoldChange(gameData.gold || 0);\n                    }\n                }\n                if (characterData) {\n                    // 수정: 모든 숫자 데이터에 Number() 적용하여 타입 보장\n                    setCharacter({\n                        id: characterData.id,\n                        name: characterData.name,\n                        level: Number(characterData.level),\n                        maxHp: Number(characterData.max_hp),\n                        currentHp: Number(characterData.max_hp),\n                        attack: Number(characterData.physical_attack || characterData.attack),\n                        defense: Number(characterData.physical_defense || characterData.defense),\n                        attackSpeed: Number(characterData.attack_speed || 1)\n                    });\n                    // 데이터 로드 완료 플래그 설정\n                    setIsDataLoaded(true);\n                }\n            } catch (error) {\n                console.error(\"캐릭터 데이터 로드 실패:\", error);\n            }\n        }\n        loadCharacterData();\n    }, [\n        onGoldChange\n    ]);\n    // 몬스터 생성 함수\n    const spawnMonster = async ()=>{\n        try {\n            if (!character) return;\n            // 현재 스테이지 정보가 없으면 기본 몬스터 생성\n            if (!currentStage) {\n                // 스테이지 정보가 없는 경우 기본 몬스터 생성 (기존 로직)\n                const { data: monstersData, error } = await supabase.from(\"game_monsters\").select(\"*\").eq(\"stage_id\", 1) // 기본 스테이지 ID\n                .order(\"is_boss\", {\n                    ascending: true\n                }); // 일반 몬스터 먼저, 보스 나중에\n                if (error || !monstersData || monstersData.length === 0) {\n                    console.error(\"몬스터 데이터 로드 실패:\", error);\n                    return;\n                }\n                // 랜덤 몬스터 선택\n                const randomIndex = Math.floor(Math.random() * monstersData.length);\n                const selectedMonster = monstersData[randomIndex];\n                setBattleState((prev)=>({\n                        ...prev,\n                        isInBattle: true,\n                        currentMonster: {\n                            id: selectedMonster.id,\n                            name: selectedMonster.name,\n                            level: Number(selectedMonster.level),\n                            maxHp: Number(selectedMonster.max_hp),\n                            currentHp: Number(selectedMonster.max_hp),\n                            attack: Number(selectedMonster.attack),\n                            defense: Number(selectedMonster.defense),\n                            exp: Number(selectedMonster.exp),\n                            gold: Number(selectedMonster.gold),\n                            itemDropChance: Number(selectedMonster.item_drop_chance || 0.05)\n                        }\n                    }));\n                return;\n            }\n            // 스테이지 정보가 있으면 스테이지에 맞는 몬스터 생성\n            const isBossStage = currentStage.isBossStage;\n            const isBossBattle = stageProgress.isBossBattle;\n            console.log(\"스테이지 정보:\", {\n                isBossStage,\n                isBossBattle,\n                currentStage\n            });\n            // 보스 전투 모드인 경우 보스 몬스터 생성\n            if (isBossStage && isBossBattle) {\n                console.log(\"보스 전투 모드 활성화됨\");\n                // 보스 몬스터 정보 로드 또는 생성\n                let bossMonster;\n                if (currentStage.bossMonster) {\n                    // 보스 몬스터 정보 로드\n                    const { data: bossData, error: bossError } = await supabase.from(\"game_monsters\").select(\"*\").eq(\"id\", currentStage.bossMonster).single();\n                    if (bossError || !bossData) {\n                        console.error(\"보스 몬스터 정보 로드 실패:\", bossError);\n                        // 보스 몬스터 정보가 없으면 임시 보스 생성\n                        bossMonster = {\n                            id: \"boss-\" + Date.now(),\n                            name: `${currentStage.name} 보스`,\n                            level: character.level + 3,\n                            maxHp: character.maxHp * 5,\n                            currentHp: character.maxHp * 5,\n                            attack: character.attack * 1.5,\n                            defense: character.defense * 1.2,\n                            exp: character.level * 100,\n                            gold: character.level * 200,\n                            itemDropChance: 0.8 // 높은 아이템 드롭률\n                        };\n                    } else {\n                        // 보스 몬스터 데이터 사용\n                        bossMonster = {\n                            id: bossData.id,\n                            name: bossData.name,\n                            level: Number(bossData.level),\n                            maxHp: Number(bossData.max_hp),\n                            currentHp: Number(bossData.max_hp),\n                            attack: Number(bossData.attack),\n                            defense: Number(bossData.defense),\n                            exp: Number(bossData.exp),\n                            gold: Number(bossData.gold),\n                            itemDropChance: Number(bossData.item_drop_chance || 0.2)\n                        };\n                    }\n                } else {\n                    // 보스 몬스터 ID가 없으면 임시 보스 생성\n                    bossMonster = {\n                        id: \"boss-\" + Date.now(),\n                        name: `${currentStage.name} 보스`,\n                        level: character.level + 3,\n                        maxHp: character.maxHp * 5,\n                        currentHp: character.maxHp * 5,\n                        attack: character.attack * 1.5,\n                        defense: character.defense * 1.2,\n                        exp: character.level * 100,\n                        gold: character.level * 200,\n                        itemDropChance: 0.8 // 높은 아이템 드롭률\n                    };\n                }\n                // 보스 몬스터로 상태 업데이트\n                setBattleState((prev)=>({\n                        ...prev,\n                        isInBattle: true,\n                        currentMonster: bossMonster\n                    }));\n                // 보스 출현 로그 추가\n                if (onLogUpdate) {\n                    onLogUpdate({\n                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                        type: \"battle\",\n                        message: `🔥 보스 ${bossMonster.name}이(가) 출현했습니다! 🔥`,\n                        timestamp: new Date()\n                    });\n                }\n                return;\n            }\n            // 일반 몬스터 정보 로드 또는 생성 (스테이지 정보 기반)\n            if (currentStage.normalMonsters && currentStage.normalMonsters.length > 0) {\n                console.log(\"일반 몬스터 생성\");\n                // 스테이지에 정의된 몬스터 수 확인\n                const monsterCount = currentStage.normalMonsters.length;\n                // 몬스터 ID가 있는지 확인\n                if (monsterCount > 0) {\n                    // 몬스터 ID가 있으면 DB에서 몬스터 정보 조회\n                    const { data: monstersData, error } = await supabase.from(\"game_monsters\").select(\"*\").in(\"id\", currentStage.normalMonsters.map((m)=>m.id));\n                    if (error || !monstersData || monstersData.length === 0) {\n                        console.error(\"스테이지 몬스터 정보 로드 실패:\", error);\n                        // 임시 몬스터 생성\n                        createDefaultMonster();\n                        return;\n                    }\n                    // 이전 몬스터와 다른 몬스터 선택 (가능한 경우)\n                    let selectedMonster = monstersData[0]; // 기본값\n                    if (monstersData.length > 1) {\n                        // 현재 몬스터 ID 가져오기 (있는 경우)\n                        const currentMonsterId = battleState.currentMonster?.id;\n                        // 현재 몬스터와 다른 몬스터들 필터링\n                        const availableMonsters = monstersData.filter((monster)=>monster.id !== currentMonsterId);\n                        // 필터링된 몬스터가 있으면 랜덤으로 선택, 없으면 전체 목록에서 랜덤 선택\n                        const monsters = availableMonsters.length > 0 ? availableMonsters : monstersData;\n                        const randomIndex = Math.floor(Math.random() * monsters.length);\n                        selectedMonster = monsters[randomIndex];\n                    }\n                    // 선택된 몬스터로 상태 업데이트\n                    setBattleState((prev)=>({\n                            ...prev,\n                            isInBattle: true,\n                            currentMonster: {\n                                id: selectedMonster.id,\n                                name: selectedMonster.name,\n                                level: Number(selectedMonster.level),\n                                maxHp: Number(selectedMonster.max_hp),\n                                currentHp: Number(selectedMonster.max_hp),\n                                attack: Number(selectedMonster.attack),\n                                defense: Number(selectedMonster.defense),\n                                exp: Number(selectedMonster.exp),\n                                gold: Number(selectedMonster.gold),\n                                itemDropChance: Number(selectedMonster.item_drop_chance || 0.05)\n                            }\n                        }));\n                    return;\n                }\n            }\n            // 스테이지에 몬스터 정보가 없거나 조회 실패시 기본 몬스터 생성\n            createDefaultMonster();\n        } catch (error) {\n            console.error(\"몬스터 생성 실패:\", error);\n            // 오류 발생 시 기본 몬스터 생성\n            createDefaultMonster();\n        }\n    };\n    // 기본 몬스터 생성 함수\n    const createDefaultMonster = ()=>{\n        if (!character) return;\n        // 기본 몬스터 생성\n        const defaultMonster = {\n            id: \"default-monster-\" + Date.now(),\n            name: \"고블린\",\n            level: Math.max(1, character.level - 1),\n            maxHp: 50 + character.level * 10,\n            currentHp: 50 + character.level * 10,\n            attack: 5 + character.level * 2,\n            defense: 2 + character.level,\n            exp: 15 + character.level * 5,\n            gold: 10 + character.level * 3,\n            itemDropChance: 0.05\n        };\n        // 몬스터 상태 업데이트\n        setBattleState((prev)=>({\n                ...prev,\n                isInBattle: true,\n                currentMonster: defaultMonster\n            }));\n        // 몬스터 등장 로그\n        if (onLogUpdate) {\n            onLogUpdate({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                type: \"battle\",\n                message: `${defaultMonster.name}이(가) 나타났습니다!`,\n                timestamp: new Date()\n            });\n        }\n    };\n    // 데미지 계산 함수\n    const calculateDamage = (attacker, defender)=>{\n        const baseDamage = Math.max(attacker.attack - defender.defense, 1);\n        const variance = Math.random() * 0.2 - 0.1; // -10% ~ +10% 변동\n        return Math.round(baseDamage * (1 + variance)); // 반올림하여 정수로 반환\n    };\n    // 전투 진행 함수\n    const progressBattle = ()=>{\n        if (!character || !battleState.currentMonster || !battleState.isInBattle) return;\n        // 추가: 유효성 검사 추가\n        if (isNaN(character.currentHp) || isNaN(battleState.currentMonster.currentHp)) {\n            console.error(\"유효하지 않은 HP 값: \", {\n                characterHp: character.currentHp,\n                monsterHp: battleState.currentMonster.currentHp\n            });\n            // HP 값 초기화 시도\n            setCharacter((prev)=>prev ? {\n                    ...prev,\n                    currentHp: prev.maxHp || 100 // 기본값 설정\n                } : null);\n            setBattleState((prev)=>({\n                    ...prev,\n                    currentMonster: prev.currentMonster ? {\n                        ...prev.currentMonster,\n                        currentHp: prev.currentMonster.maxHp || 50 // 기본값 설정\n                    } : null\n                }));\n            return; // 계산 중단\n        }\n        // 캐릭터의 공격\n        const damageToMonster = calculateDamage(character, battleState.currentMonster);\n        const updatedMonsterHp = Math.max(Math.round(battleState.currentMonster.currentHp - damageToMonster), 0);\n        // 몬스터의 반격\n        const damageToCharacter = calculateDamage(battleState.currentMonster, character);\n        const updatedCharacterHp = Math.max(Math.round(character.currentHp - damageToCharacter), 0);\n        // 상태 업데이트\n        setCharacter((prev)=>prev ? {\n                ...prev,\n                currentHp: updatedCharacterHp\n            } : null);\n        setBattleState((prev)=>({\n                ...prev,\n                currentMonster: prev.currentMonster ? {\n                    ...prev.currentMonster,\n                    currentHp: updatedMonsterHp\n                } : null,\n                lastDamageDealt: damageToMonster,\n                lastDamageReceived: damageToCharacter\n            }));\n        // 몬스터 처치 확인\n        if (updatedMonsterHp <= 0) {\n            handleMonsterDefeat();\n        }\n        // 캐릭터 사망 확인 (현재는 부활 처리)\n        if (updatedCharacterHp <= 0) {\n            handleCharacterDefeat();\n        }\n    };\n    // 몬스터 처치 처리 함수 완전히 재작성\n    const handleMonsterDefeat = async ()=>{\n        if (!character || !battleState.currentMonster) return;\n        const { currentMonster } = battleState;\n        // 현재 골드 값 가져오기\n        const currentGold = gameData.gold || 0;\n        // 획득한 골드, 경험치 계산\n        const goldGained = currentMonster.gold;\n        const expGained = currentMonster.exp;\n        // 새로운 골드 값 계산\n        const newGold = currentGold + goldGained;\n        // 1. 즉시 UI 업데이트\n        // ----------------\n        // 골드 UI 즉시 업데이트\n        setGameData((prev)=>({\n                ...prev,\n                gold: newGold\n            }));\n        // 2. 로그 메시지 추가\n        // ----------------\n        if (onLogUpdate) {\n            // 몬스터 처치 로그\n            onLogUpdate({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                type: \"battle\",\n                message: `${currentMonster.name}을(를) 처치했습니다!`,\n                timestamp: new Date()\n            });\n            // 골드 획득 로그\n            onLogUpdate({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                type: \"gold\",\n                message: `${goldGained} 골드를 획득했습니다!`,\n                timestamp: new Date()\n            });\n            // 경험치 획득 로그\n            onLogUpdate({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                type: \"exp\",\n                message: `${expGained} 경험치를 획득했습니다!`,\n                timestamp: new Date()\n            });\n        }\n        // 3. 부모 컴포넌트에 변경 알림\n        // -----------------------\n        // 골드 변경 알림 (부모 컴포넌트)\n        if (onGoldChange) {\n            onGoldChange(newGold);\n        }\n        // 4. 서버에 저장 요청 (비동기)\n        // -----------------------\n        // 서버에 데이터 저장 (비동기로 백그라운드에서 진행)\n        const savePromise = (async ()=>{\n            try {\n                // 아이템 드롭 처리\n                let droppedItem = null;\n                const itemDropped = Math.random() < (currentMonster.itemDropChance || 0.05);\n                if (itemDropped) {\n                    // 아이템 로드 및 처리 로직...\n                    const { data: itemsData } = await supabase.from(\"game_items\").select(\"*\").lte(\"required_level\", character.level).limit(10);\n                    if (itemsData && itemsData.length > 0) {\n                        const randomItemIndex = Math.floor(Math.random() * itemsData.length);\n                        const selectedItem = itemsData[randomItemIndex];\n                        droppedItem = {\n                            itemId: selectedItem.id,\n                            quantity: 1\n                        };\n                        // 아이템 획득 로그\n                        if (onLogUpdate) {\n                            onLogUpdate({\n                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                                type: \"battle\",\n                                message: `${selectedItem.name}을(를) 획득했습니다!`,\n                                timestamp: new Date()\n                            });\n                        }\n                    }\n                }\n                // 서버에 전송할 데이터 구성\n                const lootData = {\n                    gold: goldGained,\n                    exp: expGained,\n                    items: droppedItem ? [\n                        droppedItem\n                    ] : undefined\n                };\n                // 서버에 저장 요청\n                await (0,_actions_game__WEBPACK_IMPORTED_MODULE_4__.recordLoot)(lootData);\n                console.log(\"전투 보상 서버 저장 완료\");\n            } catch (error) {\n                console.error(\"전투 보상 서버 저장 실패:\", error);\n            }\n        })();\n        // 5. 무시해도 되는 비동기 작업 - 진행 중에 계속 진행\n        // 보스 몬스터 처리\n        const isBoss = currentStage?.isBossStage && stageProgress.isBossBattle;\n        if (isBoss) {\n            // 보스 전투 모드 종료\n            setBossBattleState(false);\n            // 보스 처치 로그 추가\n            if (onLogUpdate) {\n                onLogUpdate({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                    type: \"battle\",\n                    message: `🏆 보스 ${currentMonster.name}을(를) 처치했습니다! 🏆`,\n                    timestamp: new Date()\n                });\n            }\n        } else {\n            // 일반 몬스터인 경우 스테이지 진행도 업데이트\n            incrementKilledMonsterCount();\n        }\n        // 전투 상태 초기화\n        setBattleState((prev)=>({\n                ...prev,\n                isInBattle: false,\n                currentMonster: null,\n                lastDamageDealt: null,\n                lastDamageReceived: null\n            }));\n        // 몬스터 처치 후 약간의 지연시간 (1초)\n        await new Promise((resolve)=>setTimeout(resolve, 1000));\n        // 새 몬스터 생성\n        spawnMonster();\n    };\n    // 캐릭터 사망 처리 (현재는 즉시 부활)\n    const handleCharacterDefeat = ()=>{\n        if (!character) return;\n        setCharacter((prev)=>prev ? {\n                ...prev,\n                currentHp: Number(prev.maxHp)\n            } : null);\n    };\n    // 자동 전투 타이머 - 수정: 의존성 배열에 isDataLoaded 추가\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 데이터가 완전히 로드된 후에만 전투 시작\n        if (!isDataLoaded) return;\n        // 캐릭터는 있지만 전투 중이 아니거나 몬스터가 없는 경우 새 몬스터 생성\n        if (character && (!battleState.isInBattle || !battleState.currentMonster)) {\n            console.log(\"새 전투 시작: 몬스터 생성 필요\");\n            spawnMonster();\n            return;\n        }\n        // 전투 중일 때만 타이머 설정\n        if (character && battleState.isInBattle && battleState.currentMonster) {\n            // 추가 디버깅\n            console.log(\"전투 진행 중: \", {\n                몬스터: battleState.currentMonster.name,\n                몬스터HP: `${battleState.currentMonster.currentHp}/${battleState.currentMonster.maxHp}`,\n                캐릭터HP: `${character.currentHp}/${character.maxHp}`\n            });\n            const battleInterval = setInterval(()=>{\n                progressBattle();\n            }, 1000 / (Number(character.attackSpeed) || 1)); // 공격 속도에 따른 타이머 설정\n            return ()=>clearInterval(battleInterval);\n        }\n    }, [\n        character,\n        battleState.isInBattle,\n        battleState.currentMonster,\n        isDataLoaded\n    ]);\n    // 자동 전투 토글\n    const toggleAutoFight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setBattleState((prev)=>({\n                ...prev,\n                isAutoMode: !prev.isAutoMode\n            }));\n    }, []);\n    // 자동 전투 관리\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (battleState.isAutoMode && character && !battleState.isInBattle) {\n            // 자동 전투 모드인데 전투 중이 아니면 새 몬스터 생성\n            const timer = setTimeout(()=>{\n                spawnMonster();\n            }, 1000);\n            return ()=>clearTimeout(timer);\n        }\n        if (battleState.isAutoMode && battleState.isInBattle) {\n            // 자동 전투 모드이고 전투 중이면 자동 공격\n            const interval = setInterval(()=>{\n                progressBattle();\n            }, 1000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        battleState.isAutoMode,\n        battleState.isInBattle,\n        character\n    ]);\n    // 전투 타이머\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (battleState.isInBattle) {\n            const timer = setInterval(()=>{\n                setBattleTimer((prev)=>prev + 1);\n            }, 1000);\n            return ()=>clearInterval(timer);\n        }\n    }, [\n        battleState.isInBattle\n    ]);\n    // 보스 전투 처리 기능 추가\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 보스 전투 상태가 변경되면 새 몬스터 소환\n        if (stageProgress.isBossBattle && currentStage?.isBossStage) {\n            console.log(\"보스 전투 시작 감지\");\n            spawnMonster();\n        }\n    }, [\n        stageProgress.isBossBattle,\n        currentStage\n    ]);\n    if (!character) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-64\",\n            children: \"캐릭터 정보를 불러오는 중...\"\n        }, void 0, false, {\n            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n            lineNumber: 703,\n            columnNumber: 12\n        }, this);\n    }\n    if (!battleState.currentMonster) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-64\",\n            children: \"전투 준비 중...\"\n        }, void 0, false, {\n            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n            lineNumber: 707,\n            columnNumber: 12\n        }, this);\n    }\n    // 체력 바 퍼센트 계산\n    const healthPercent = Math.floor(battleState.currentMonster.currentHp / battleState.currentMonster.maxHp * 100);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-4 bg-gray-800 rounded-lg\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-4 bg-gray-700 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-bold text-white mb-2\",\n                                        children: [\n                                            character.name,\n                                            \" Lv.\",\n                                            character.level\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 720,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_2__.Progress, {\n                                                value: character.currentHp / character.maxHp * 100,\n                                                className: \"h-2 bg-gray-900\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 722,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-300\",\n                                                children: [\n                                                    \"HP: \",\n                                                    Math.round(character.currentHp),\n                                                    \"/\",\n                                                    Math.round(character.maxHp)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 726,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 721,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 719,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mx-4 text-2xl font-bold text-yellow-500\",\n                                children: \"VS\"\n                            }, void 0, false, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 733,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-bold text-white mb-2\",\n                                        children: [\n                                            battleState.currentMonster.name,\n                                            battleState.currentMonster.itemDropChance && battleState.currentMonster.itemDropChance > 0.5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-red-600 ml-1\",\n                                                children: \"\\uD83D\\uDC51\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 739,\n                                                columnNumber: 112\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 737,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_2__.Progress, {\n                                                value: healthPercent,\n                                                className: \"h-2 bg-gray-900\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 742,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-300\",\n                                                children: [\n                                                    \"HP: \",\n                                                    Math.round(battleState.currentMonster.currentHp),\n                                                    \"/\",\n                                                    Math.round(battleState.currentMonster.maxHp)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 746,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 741,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 736,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 717,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex justify-center space-x-4 text-sm\",\n                        children: [\n                            battleState.lastDamageDealt !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-green-400 px-2 py-1 rounded bg-gray-900 font-medium inline-block\",\n                                children: [\n                                    \"데미지: \",\n                                    Math.round(battleState.lastDamageDealt)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 756,\n                                columnNumber: 13\n                            }, this),\n                            battleState.lastDamageReceived !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-red-400 px-2 py-1 rounded bg-gray-900 font-medium inline-block\",\n                                children: [\n                                    \"피해: \",\n                                    Math.round(battleState.lastDamageReceived)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 761,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 754,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 716,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 grid grid-cols-2 gap-3 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-700 p-2 rounded\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300\",\n                            children: [\n                                \"골드: \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-yellow-400\",\n                                    children: gameData.gold\n                                }, void 0, false, {\n                                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                    lineNumber: 771,\n                                    columnNumber: 44\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                            lineNumber: 771,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 770,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-700 p-2 rounded\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300\",\n                            children: [\n                                \"보상:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-yellow-400 ml-1\",\n                                    children: [\n                                        battleState.currentMonster.gold,\n                                        \" 골드\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                    lineNumber: 776,\n                                    columnNumber: 13\n                                }, this),\n                                \",\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-blue-400 ml-1\",\n                                    children: [\n                                        battleState.currentMonster.exp,\n                                        \" 경험치\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                    lineNumber: 777,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                            lineNumber: 774,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 773,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 769,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex space-x-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: spawnMonster,\n                        disabled: battleState.isInBattle,\n                        className: `flex-1 py-2 px-4 rounded font-medium ${battleState.isInBattle ? \"bg-gray-600 text-gray-400 cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"}`,\n                        children: \"새 전투\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 784,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: progressBattle,\n                        disabled: !battleState.isInBattle,\n                        className: `flex-1 py-2 px-4 rounded font-medium ${!battleState.isInBattle ? \"bg-gray-600 text-gray-400 cursor-not-allowed\" : \"bg-green-600 text-white hover:bg-green-700\"}`,\n                        children: \"공격\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 796,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleAutoFight,\n                        className: `flex-1 py-2 px-4 rounded font-medium ${battleState.isAutoMode ? \"bg-red-600 text-white hover:bg-red-700\" : \"bg-purple-600 text-white hover:bg-purple-700\"}`,\n                        children: battleState.isAutoMode ? \"자동전투 중지\" : \"자동전투\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 808,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 783,\n                columnNumber: 7\n            }, this),\n            currentStage && !stageProgress.isBossBattle && stageProgress.isBossAvailable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>setBossBattleState(true),\n                    className: \"bg-red-700 text-white w-full py-2 px-4 rounded font-medium hover:bg-red-800\",\n                    children: \"보스 도전\"\n                }, void 0, false, {\n                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                    lineNumber: 823,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 822,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n        lineNumber: 714,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9iYXR0bGUvQmF0dGxlU2NlbmUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUV5RDtBQUNMO0FBQ0c7QUFDbkI7QUFDa0I7QUFFSztBQUNTO0FBd0NwRTs7O0NBR0MsR0FDYyxTQUFTVSxZQUFZLEVBQUVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFQyxrQkFBa0IsRUFBRUMsYUFBYSxFQUFvQjtJQUNwSCxNQUFNQyxXQUFXWCxvRUFBWUE7SUFDN0IsTUFBTSxFQUFFWSxZQUFZLEVBQUVDLGFBQWEsRUFBRUMsMkJBQTJCLEVBQUVDLGtCQUFrQixFQUFFLEdBQUdYLHdFQUFRQTtJQUNqRyxNQUFNLEVBQUVZLGVBQWUsRUFBRSxHQUFHWCxpRkFBZUE7SUFDM0MsTUFBTSxDQUFDWSxXQUFXQyxhQUFhLEdBQUdyQiwrQ0FBUUEsQ0FBbUI7SUFDN0QsTUFBTSxDQUFDc0IsYUFBYUMsZUFBZSxHQUFHdkIsK0NBQVFBLENBQWtCO1FBQzlEd0IsWUFBWTtRQUNaQyxnQkFBZ0I7UUFDaEJDLGlCQUFpQjtRQUNqQkMsb0JBQW9CO1FBQ3BCQyxZQUFZO1FBQ1pDLFlBQVk7SUFDZDtJQUNBLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUdqQywrQ0FBUUEsQ0FBbUI7UUFBRWtDLE1BQU07SUFBRTtJQUNyRSxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR3BDLCtDQUFRQSxDQUFDLElBQUksVUFBVTtJQUU3RCxZQUFZO0lBQ1pELGdEQUFTQSxDQUFDO1FBQ1IsZUFBZXNDO1lBQ2IsSUFBSTtnQkFDRiw4QkFBOEI7Z0JBQzlCLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRUMsT0FBT0MsU0FBUyxFQUFFLEdBQUcsTUFBTTNCLFNBQVM0QixJQUFJLENBQUNDLE9BQU87Z0JBRXhFLElBQUlGLGFBQWEsQ0FBQ0YsTUFBTTtvQkFD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LEVBQy9DM0ksWUFBWU8sVUFBVSxHQUNwQiwyQ0FDQSwrQ0FDSCxDQUFDO2tDQUVEUCxZQUFZTyxVQUFVLEdBQUcsWUFBWTs7Ozs7Ozs7Ozs7O1lBS3pDZCxnQkFBZ0IsQ0FBQ0MsY0FBYzRFLFlBQVksSUFBSTVFLGNBQWMwSixlQUFlLGtCQUMzRSw4REFBQ1Y7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNNO29CQUNDQyxTQUFTLElBQU10SixtQkFBbUI7b0JBQ2xDK0ksV0FBVTs4QkFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPWCIsInNvdXJjZXMiOlsid2VicGFjazovL2x2dXAvLi9zcmMvY29tcG9uZW50cy9iYXR0bGUvQmF0dGxlU2NlbmUudHN4PzE5ZTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Byb2dyZXNzJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvdXRpbHMvc3VwYWJhc2UvY2xpZW50JztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgcmVjb3JkTG9vdCwgTG9vdERhdGEgfSBmcm9tICdAL2FjdGlvbnMvZ2FtZSc7XG5pbXBvcnQgeyBMb2dJdGVtIH0gZnJvbSAnQC9jb21wb25lbnRzL2Rhc2hib2FyZC9CYXR0bGVMb2cnO1xuaW1wb3J0IHsgdXNlU3RhZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvc3RhZ2UvU3RhZ2VDb250ZXh0JztcbmltcG9ydCB7IHVzZU5vdGlmaWNhdGlvbiB9IGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vTm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gJ0AvdHlwZXMvY2hhcmFjdGVyJztcblxuLy8g7KCE7YisIOq0gOugqCDtg4DsnoUg7KCV7J2YXG5pbnRlcmZhY2UgTW9uc3RlciB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgbGV2ZWw6IG51bWJlcjtcbiAgbWF4SHA6IG51bWJlcjtcbiAgY3VycmVudEhwOiBudW1iZXI7XG4gIGF0dGFjazogbnVtYmVyO1xuICBkZWZlbnNlOiBudW1iZXI7XG4gIGV4cDogbnVtYmVyO1xuICBnb2xkOiBudW1iZXI7XG4gIGl0ZW1Ecm9wQ2hhbmNlPzogbnVtYmVyOyAvLyDslYTsnbTthZwg65Oc66GtIO2ZleuloFxufVxuXG5pbnRlcmZhY2UgQmF0dGxlU3RhdGVUeXBlIHtcbiAgaXNJbkJhdHRsZTogYm9vbGVhbjtcbiAgY3VycmVudE1vbnN0ZXI6IE1vbnN0ZXIgfCBudWxsO1xuICBsYXN0RGFtYWdlRGVhbHQ6IG51bWJlciB8IG51bGw7XG4gIGxhc3REYW1hZ2VSZWNlaXZlZDogbnVtYmVyIHwgbnVsbDtcbiAgYmF0dGxlVHVybjogbnVtYmVyO1xuICBpc0F1dG9Nb2RlOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQmF0dGxlU2NlbmVQcm9wcyB7XG4gIG9uTG9nVXBkYXRlPzogKGxvZzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IERhdGU7XG4gICAgdmFsdWU/OiBudW1iZXI7XG4gIH0pID0+IHZvaWQ7XG4gIG9uR29sZENoYW5nZT86IChnb2xkOiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uRXhwZXJpZW5jZUdhaW5lZD86IChleHA6IG51bWJlcikgPT4gdm9pZDtcbiAgc2hvd0ludmVudG9yeT86IGJvb2xlYW47XG59XG5cbi8qKlxuICog7KCE7YisIOyepeuptOydhCDtkZzsi5ztlZjripQg7Lu07Y+s64SM7Yq4XG4gKiDsnpDrj5kg7KCE7YisIOuhnOyngeqzvCDsi5zqsIHsoIEg7ZGc7ZiE7J2EIOuLtOuLuVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCYXR0bGVTY2VuZSh7IG9uTG9nVXBkYXRlLCBvbkdvbGRDaGFuZ2UsIG9uRXhwZXJpZW5jZUdhaW5lZCwgc2hvd0ludmVudG9yeSB9OiBCYXR0bGVTY2VuZVByb3BzKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gIGNvbnN0IHsgY3VycmVudFN0YWdlLCBzdGFnZVByb2dyZXNzLCBpbmNyZW1lbnRLaWxsZWRNb25zdGVyQ291bnQsIHNldEJvc3NCYXR0bGVTdGF0ZSB9ID0gdXNlU3RhZ2UoKTtcbiAgY29uc3QgeyBhZGROb3RpZmljYXRpb24gfSA9IHVzZU5vdGlmaWNhdGlvbigpO1xuICBjb25zdCBbY2hhcmFjdGVyLCBzZXRDaGFyYWN0ZXJdID0gdXNlU3RhdGU8Q2hhcmFjdGVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtiYXR0bGVTdGF0ZSwgc2V0QmF0dGxlU3RhdGVdID0gdXNlU3RhdGU8QmF0dGxlU3RhdGVUeXBlPih7XG4gICAgaXNJbkJhdHRsZTogZmFsc2UsXG4gICAgY3VycmVudE1vbnN0ZXI6IG51bGwsXG4gICAgbGFzdERhbWFnZURlYWx0OiBudWxsLFxuICAgIGxhc3REYW1hZ2VSZWNlaXZlZDogbnVsbCxcbiAgICBiYXR0bGVUdXJuOiAwLFxuICAgIGlzQXV0b01vZGU6IGZhbHNlXG4gIH0pO1xuICBjb25zdCBbaXNEYXRhTG9hZGVkLCBzZXRJc0RhdGFMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZ2FtZURhdGEsIHNldEdhbWVEYXRhXSA9IHVzZVN0YXRlPHsgZ29sZDogbnVtYmVyIH0+KHsgZ29sZDogMCB9KTtcbiAgY29uc3QgW2JhdHRsZVRpbWVyLCBzZXRCYXR0bGVUaW1lcl0gPSB1c2VTdGF0ZSgwKTsgLy8g7KCE7YisIO2DgOydtOuouCBcbiAgXG4gIC8vIOy6kOumre2EsCDsoJXrs7Qg66Gc65OcXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZENoYXJhY3RlckRhdGEoKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyDsgqzsmqnsnpAg7J247KadIOygleuztCDqsIDsoLjsmKTquLAgKGdldFVzZXIg7IKs7JqpKVxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfsgqzsmqnsnpAg7J247KadIOyYpOulmDonLCBhdXRoRXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOy6kOumre2EsCDsoJXrs7Qg66Gc65OcXG4gICAgICAgIGNvbnN0IHsgZGF0YTogY2hhcmFjdGVyRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJfY2hhcmFjdGVycycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgICAgICAvLyDqsozsnoQg642w7J207YSwKOqzqOuTnCDrk7EpIOuhnOuTnFxuICAgICAgICBjb25zdCB7IGRhdGE6IGdhbWVEYXRhLCBlcnJvcjogZ2FtZURhdGFFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcl9nYW1lX2RhdGEnKVxuICAgICAgICAgIC5zZWxlY3QoJ2dvbGQsIGN1cnJlbnRfc3RhZ2VfaWQnKVxuICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgICAgLm1heWJlU2luZ2xlKCk7IC8vIHNpbmdsZSgpIOuMgOyLoCBtYXliZVNpbmdsZSgpIOyCrOyaqVxuICAgICAgICAgIFxuICAgICAgICBpZiAoZ2FtZURhdGFFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+qyjOyehCDrjbDsnbTthLAg66Gc65OcIOyLpO2MqDonLCBnYW1lRGF0YUVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDqsozsnoQg642w7J207YSw6rCAIOyXhuuKlCDqsr3smrAg7IOI66GcIOyDneyEsVxuICAgICAgICAgIGlmICghZ2FtZURhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIOq4sOuzuCDsiqTthYzsnbTsp4AgSUQg6rCA7KC47Jik6riwXG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogZmlyc3RTdGFnZSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAuZnJvbSgnZ2FtZV9zdGFnZXMnKVxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAgICAgICAub3JkZXIoJ3NlcXVlbmNlJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAubGltaXQoMSlcbiAgICAgICAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTdGFnZUlkID0gZmlyc3RTdGFnZSA/IGZpcnN0U3RhZ2UuaWQgOiAxOyAvLyDquLDrs7jqsJIg7ISk7KCVXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyDsg4jroZzsmrQg6rKM7J6EIOuNsOydtO2EsCDsg53shLFcbiAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBuZXdHYW1lRGF0YSwgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAgIC5mcm9tKCd1c2VyX2dhbWVfZGF0YScpXG4gICAgICAgICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgICAgZ29sZDogMCxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRfc3RhZ2VfaWQ6IGRlZmF1bHRTdGFnZUlkLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfqsozsnoQg642w7J207YSwIOyDneyEsSDsi6TtjKg6JywgaW5zZXJ0RXJyb3IpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEdhbWVEYXRhKHsgZ29sZDogbmV3R2FtZURhdGEuZ29sZCB8fCAwIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvbkdvbGRDaGFuZ2UpIG9uR29sZENoYW5nZShuZXdHYW1lRGF0YS5nb2xkIHx8IDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChpbnNlcnRFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfqsozsnoQg642w7J207YSwIOyDneyEsSDspJEg7Jik66WYOicsIGluc2VydEVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g6riw7KG0IOqyjOyehCDrjbDsnbTthLAg7IKs7JqpXG4gICAgICAgICAgICBzZXRHYW1lRGF0YSh7IGdvbGQ6IGdhbWVEYXRhLmdvbGQgfHwgMCB9KTtcbiAgICAgICAgICAgIC8vIOu2gOuqqCDsu7Ttj6zrhIztirjsl5Ag6rOo65OcIOygleuztCDsoITri6xcbiAgICAgICAgICAgIGlmIChvbkdvbGRDaGFuZ2UpIG9uR29sZENoYW5nZShnYW1lRGF0YS5nb2xkIHx8IDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJEYXRhKSB7XG4gICAgICAgICAgLy8g7IiY7KCVOiDrqqjrk6Ag7Iir7J6QIOuNsOydtO2EsOyXkCBOdW1iZXIoKSDsoIHsmqntlZjsl6wg7YOA7J6FIOuztOyepVxuICAgICAgICAgIHNldENoYXJhY3Rlcih7XG4gICAgICAgICAgICBpZDogY2hhcmFjdGVyRGF0YS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGNoYXJhY3RlckRhdGEubmFtZSxcbiAgICAgICAgICAgIGxldmVsOiBOdW1iZXIoY2hhcmFjdGVyRGF0YS5sZXZlbCksXG4gICAgICAgICAgICBtYXhIcDogTnVtYmVyKGNoYXJhY3RlckRhdGEubWF4X2hwKSxcbiAgICAgICAgICAgIGN1cnJlbnRIcDogTnVtYmVyKGNoYXJhY3RlckRhdGEubWF4X2hwKSwgLy8g7LSI6riw7JeQ64qUIOy1nOuMgCDssrTroKXsnLzroZwg7ISk7KCVXG4gICAgICAgICAgICBhdHRhY2s6IE51bWJlcihjaGFyYWN0ZXJEYXRhLnBoeXNpY2FsX2F0dGFjayB8fCBjaGFyYWN0ZXJEYXRhLmF0dGFjayksXG4gICAgICAgICAgICBkZWZlbnNlOiBOdW1iZXIoY2hhcmFjdGVyRGF0YS5waHlzaWNhbF9kZWZlbnNlIHx8IGNoYXJhY3RlckRhdGEuZGVmZW5zZSksXG4gICAgICAgICAgICBhdHRhY2tTcGVlZDogTnVtYmVyKGNoYXJhY3RlckRhdGEuYXR0YWNrX3NwZWVkIHx8IDEpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOuNsOydtO2EsCDroZzrk5wg7JmE66OMIO2UjOuemOq3uCDshKTsoJVcbiAgICAgICAgICBzZXRJc0RhdGFMb2FkZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+y6kOumre2EsCDrjbDsnbTthLAg66Gc65OcIOyLpO2MqDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbG9hZENoYXJhY3RlckRhdGEoKTtcbiAgfSwgW29uR29sZENoYW5nZV0pO1xuXG4gIC8vIOuqrOyKpO2EsCDsg53shLEg7ZWo7IiYXG4gIGNvbnN0IHNwYXduTW9uc3RlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFjaGFyYWN0ZXIpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8g7ZiE7J6sIOyKpO2FjOydtOyngCDsoJXrs7TqsIAg7JeG7Jy866m0IOq4sOuzuCDrqqzsiqTthLAg7IOd7ISxXG4gICAgICBpZiAoIWN1cnJlbnRTdGFnZSkge1xuICAgICAgICAvLyDsiqTthYzsnbTsp4Ag7KCV67O06rCAIOyXhuuKlCDqsr3smrAg6riw67O4IOuqrOyKpO2EsCDsg53shLEgKOq4sOyhtCDroZzsp4EpXG4gICAgICAgIGNvbnN0IHsgZGF0YTogbW9uc3RlcnNEYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnZ2FtZV9tb25zdGVycycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdzdGFnZV9pZCcsIDEpIC8vIOq4sOuzuCDsiqTthYzsnbTsp4AgSURcbiAgICAgICAgICAub3JkZXIoJ2lzX2Jvc3MnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTsgLy8g7J2867CYIOuqrOyKpO2EsCDrqLzsoIAsIOuztOyKpCDrgpjspJHsl5BcblxuICAgICAgICBpZiAoZXJyb3IgfHwgIW1vbnN0ZXJzRGF0YSB8fCBtb25zdGVyc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign66qs7Iqk7YSwIOuNsOydtO2EsCDroZzrk5wg7Iuk7YyoOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyDrnpzrjaQg66qs7Iqk7YSwIOyEoO2DnVxuICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1vbnN0ZXJzRGF0YS5sZW5ndGgpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZE1vbnN0ZXIgPSBtb25zdGVyc0RhdGFbcmFuZG9tSW5kZXhdO1xuICAgICAgICBcbiAgICAgICAgc2V0QmF0dGxlU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgaXNJbkJhdHRsZTogdHJ1ZSxcbiAgICAgICAgICBjdXJyZW50TW9uc3Rlcjoge1xuICAgICAgICAgICAgaWQ6IHNlbGVjdGVkTW9uc3Rlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkTW9uc3Rlci5uYW1lLFxuICAgICAgICAgICAgbGV2ZWw6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIubGV2ZWwpLFxuICAgICAgICAgICAgbWF4SHA6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIubWF4X2hwKSxcbiAgICAgICAgICAgIGN1cnJlbnRIcDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5tYXhfaHApLFxuICAgICAgICAgICAgYXR0YWNrOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmF0dGFjayksXG4gICAgICAgICAgICBkZWZlbnNlOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmRlZmVuc2UpLFxuICAgICAgICAgICAgZXhwOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmV4cCksXG4gICAgICAgICAgICBnb2xkOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmdvbGQpLFxuICAgICAgICAgICAgaXRlbURyb3BDaGFuY2U6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuaXRlbV9kcm9wX2NoYW5jZSB8fCAwLjA1KSwgLy8g6riw67O4IDUlXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDsiqTthYzsnbTsp4Ag7KCV67O06rCAIOyeiOycvOuptCDsiqTthYzsnbTsp4Dsl5Ag66ee64qUIOuqrOyKpO2EsCDsg53shLFcbiAgICAgIGNvbnN0IGlzQm9zc1N0YWdlID0gY3VycmVudFN0YWdlLmlzQm9zc1N0YWdlO1xuICAgICAgY29uc3QgaXNCb3NzQmF0dGxlID0gc3RhZ2VQcm9ncmVzcy5pc0Jvc3NCYXR0bGU7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfsiqTthYzsnbTsp4Ag7KCV67O0OicsIHsgaXNCb3NzU3RhZ2UsIGlzQm9zc0JhdHRsZSwgY3VycmVudFN0YWdlIH0pO1xuICAgICAgXG4gICAgICAvLyDrs7TsiqQg7KCE7YisIOuqqOuTnOyduCDqsr3smrAg67O07IqkIOuqrOyKpO2EsCDsg53shLFcbiAgICAgIGlmIChpc0Jvc3NTdGFnZSAmJiBpc0Jvc3NCYXR0bGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+uztOyKpCDsoITtiKwg66qo65OcIO2ZnOyEse2ZlOuQqCcpO1xuICAgICAgICBcbiAgICAgICAgLy8g67O07IqkIOuqrOyKpO2EsCDsoJXrs7Qg66Gc65OcIOuYkOuKlCDsg53shLFcbiAgICAgICAgbGV0IGJvc3NNb25zdGVyOiBNb25zdGVyO1xuICAgICAgICBcbiAgICAgICAgaWYgKGN1cnJlbnRTdGFnZS5ib3NzTW9uc3Rlcikge1xuICAgICAgICAgIC8vIOuztOyKpCDrqqzsiqTthLAg7KCV67O0IOuhnOuTnFxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogYm9zc0RhdGEsIGVycm9yOiBib3NzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgnZ2FtZV9tb25zdGVycycpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5lcSgnaWQnLCBjdXJyZW50U3RhZ2UuYm9zc01vbnN0ZXIpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICBpZiAoYm9zc0Vycm9yIHx8ICFib3NzRGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign67O07IqkIOuqrOyKpO2EsCDsoJXrs7Qg66Gc65OcIOyLpO2MqDonLCBib3NzRXJyb3IpO1xuICAgICAgICAgICAgLy8g67O07IqkIOuqrOyKpO2EsCDsoJXrs7TqsIAg7JeG7Jy866m0IOyehOyLnCDrs7TsiqQg7IOd7ISxXG4gICAgICAgICAgICBib3NzTW9uc3RlciA9IHtcbiAgICAgICAgICAgICAgaWQ6ICdib3NzLScgKyBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICBuYW1lOiBgJHtjdXJyZW50U3RhZ2UubmFtZX0g67O07IqkYCxcbiAgICAgICAgICAgICAgbGV2ZWw6IGNoYXJhY3Rlci5sZXZlbCArIDMsXG4gICAgICAgICAgICAgIG1heEhwOiBjaGFyYWN0ZXIubWF4SHAgKiA1LFxuICAgICAgICAgICAgICBjdXJyZW50SHA6IGNoYXJhY3Rlci5tYXhIcCAqIDUsXG4gICAgICAgICAgICAgIGF0dGFjazogY2hhcmFjdGVyLmF0dGFjayAqIDEuNSxcbiAgICAgICAgICAgICAgZGVmZW5zZTogY2hhcmFjdGVyLmRlZmVuc2UgKiAxLjIsXG4gICAgICAgICAgICAgIGV4cDogY2hhcmFjdGVyLmxldmVsICogMTAwLFxuICAgICAgICAgICAgICBnb2xkOiBjaGFyYWN0ZXIubGV2ZWwgKiAyMDAsXG4gICAgICAgICAgICAgIGl0ZW1Ecm9wQ2hhbmNlOiAwLjggLy8g64aS7J2AIOyVhOydtO2FnCDrk5zroa3rpaBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOuztOyKpCDrqqzsiqTthLAg642w7J207YSwIOyCrOyaqVxuICAgICAgICAgICAgYm9zc01vbnN0ZXIgPSB7XG4gICAgICAgICAgICAgIGlkOiBib3NzRGF0YS5pZCxcbiAgICAgICAgICAgICAgbmFtZTogYm9zc0RhdGEubmFtZSxcbiAgICAgICAgICAgICAgbGV2ZWw6IE51bWJlcihib3NzRGF0YS5sZXZlbCksXG4gICAgICAgICAgICAgIG1heEhwOiBOdW1iZXIoYm9zc0RhdGEubWF4X2hwKSxcbiAgICAgICAgICAgICAgY3VycmVudEhwOiBOdW1iZXIoYm9zc0RhdGEubWF4X2hwKSxcbiAgICAgICAgICAgICAgYXR0YWNrOiBOdW1iZXIoYm9zc0RhdGEuYXR0YWNrKSxcbiAgICAgICAgICAgICAgZGVmZW5zZTogTnVtYmVyKGJvc3NEYXRhLmRlZmVuc2UpLFxuICAgICAgICAgICAgICBleHA6IE51bWJlcihib3NzRGF0YS5leHApLFxuICAgICAgICAgICAgICBnb2xkOiBOdW1iZXIoYm9zc0RhdGEuZ29sZCksXG4gICAgICAgICAgICAgIGl0ZW1Ecm9wQ2hhbmNlOiBOdW1iZXIoYm9zc0RhdGEuaXRlbV9kcm9wX2NoYW5jZSB8fCAwLjIpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDrs7TsiqQg66qs7Iqk7YSwIElE6rCAIOyXhuycvOuptCDsnoTsi5wg67O07IqkIOyDneyEsVxuICAgICAgICAgIGJvc3NNb25zdGVyID0ge1xuICAgICAgICAgICAgaWQ6ICdib3NzLScgKyBEYXRlLm5vdygpLFxuICAgICAgICAgICAgbmFtZTogYCR7Y3VycmVudFN0YWdlLm5hbWV9IOuztOyKpGAsXG4gICAgICAgICAgICBsZXZlbDogY2hhcmFjdGVyLmxldmVsICsgMyxcbiAgICAgICAgICAgIG1heEhwOiBjaGFyYWN0ZXIubWF4SHAgKiA1LFxuICAgICAgICAgICAgY3VycmVudEhwOiBjaGFyYWN0ZXIubWF4SHAgKiA1LFxuICAgICAgICAgICAgYXR0YWNrOiBjaGFyYWN0ZXIuYXR0YWNrICogMS41LFxuICAgICAgICAgICAgZGVmZW5zZTogY2hhcmFjdGVyLmRlZmVuc2UgKiAxLjIsXG4gICAgICAgICAgICBleHA6IGNoYXJhY3Rlci5sZXZlbCAqIDEwMCxcbiAgICAgICAgICAgIGdvbGQ6IGNoYXJhY3Rlci5sZXZlbCAqIDIwMCxcbiAgICAgICAgICAgIGl0ZW1Ecm9wQ2hhbmNlOiAwLjggLy8g64aS7J2AIOyVhOydtO2FnCDrk5zroa3rpaBcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDrs7TsiqQg66qs7Iqk7YSw66GcIOyDge2DnCDsl4XrjbDsnbTtirhcbiAgICAgICAgc2V0QmF0dGxlU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgaXNJbkJhdHRsZTogdHJ1ZSxcbiAgICAgICAgICBjdXJyZW50TW9uc3RlcjogYm9zc01vbnN0ZXJcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgLy8g67O07IqkIOy2nO2YhCDroZzqt7gg7LaU6rCAXG4gICAgICAgIGlmIChvbkxvZ1VwZGF0ZSkge1xuICAgICAgICAgIG9uTG9nVXBkYXRlKHtcbiAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICAgIHR5cGU6ICdiYXR0bGUnLFxuICAgICAgICAgICAgbWVzc2FnZTogYPCflKUg67O07IqkICR7Ym9zc01vbnN0ZXIubmFtZX3snbQo6rCAKSDstpztmITtlojsirXri4jri6QhIPCflKVgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g7J2867CYIOuqrOyKpO2EsCDsoJXrs7Qg66Gc65OcIOuYkOuKlCDsg53shLEgKOyKpO2FjOydtOyngCDsoJXrs7Qg6riw67CYKVxuICAgICAgaWYgKGN1cnJlbnRTdGFnZS5ub3JtYWxNb25zdGVycyAmJiBjdXJyZW50U3RhZ2Uubm9ybWFsTW9uc3RlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn7J2867CYIOuqrOyKpO2EsCDsg53shLEnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOyKpO2FjOydtOyngOyXkCDsoJXsnZjrkJwg66qs7Iqk7YSwIOyImCDtmZXsnbhcbiAgICAgICAgY29uc3QgbW9uc3RlckNvdW50ID0gY3VycmVudFN0YWdlLm5vcm1hbE1vbnN0ZXJzLmxlbmd0aDtcbiAgICAgICAgXG4gICAgICAgIC8vIOuqrOyKpO2EsCBJROqwgCDsnojripTsp4Ag7ZmV7J24XG4gICAgICAgIGlmIChtb25zdGVyQ291bnQgPiAwKSB7XG4gICAgICAgICAgLy8g66qs7Iqk7YSwIElE6rCAIOyeiOycvOuptCBEQuyXkOyEnCDrqqzsiqTthLAg7KCV67O0IOyhsO2ajFxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogbW9uc3RlcnNEYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdnYW1lX21vbnN0ZXJzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmluKCdpZCcsIGN1cnJlbnRTdGFnZS5ub3JtYWxNb25zdGVycy5tYXAobSA9PiBtLmlkKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICBpZiAoZXJyb3IgfHwgIW1vbnN0ZXJzRGF0YSB8fCBtb25zdGVyc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfsiqTthYzsnbTsp4Ag66qs7Iqk7YSwIOygleuztCDroZzrk5wg7Iuk7YyoOicsIGVycm9yKTtcbiAgICAgICAgICAgIC8vIOyehOyLnCDrqqzsiqTthLAg7IOd7ISxXG4gICAgICAgICAgICBjcmVhdGVEZWZhdWx0TW9uc3RlcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyDsnbTsoIQg66qs7Iqk7YSw7JmAIOuLpOuluCDrqqzsiqTthLAg7ISg7YOdICjqsIDriqXtlZwg6rK97JqwKVxuICAgICAgICAgIGxldCBzZWxlY3RlZE1vbnN0ZXIgPSBtb25zdGVyc0RhdGFbMF07IC8vIOq4sOuzuOqwklxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChtb25zdGVyc0RhdGEubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8g7ZiE7J6sIOuqrOyKpO2EsCBJRCDqsIDsoLjsmKTquLAgKOyeiOuKlCDqsr3smrApXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TW9uc3RlcklkID0gYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXI/LmlkO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDtmITsnqwg66qs7Iqk7YSw7JmAIOuLpOuluCDrqqzsiqTthLDrk6Qg7ZWE7YSw66eBXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVNb25zdGVycyA9IG1vbnN0ZXJzRGF0YS5maWx0ZXIobW9uc3RlciA9PiBcbiAgICAgICAgICAgICAgbW9uc3Rlci5pZCAhPT0gY3VycmVudE1vbnN0ZXJJZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g7ZWE7YSw66eB65CcIOuqrOyKpO2EsOqwgCDsnojsnLzrqbQg656c642k7Jy866GcIOyEoO2DnSwg7JeG7Jy866m0IOyghOyytCDrqqnroZ3sl5DshJwg656c642kIOyEoO2DnVxuICAgICAgICAgICAgY29uc3QgbW9uc3RlcnMgPSBhdmFpbGFibGVNb25zdGVycy5sZW5ndGggPiAwID8gYXZhaWxhYmxlTW9uc3RlcnMgOiBtb25zdGVyc0RhdGE7XG4gICAgICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1vbnN0ZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICBzZWxlY3RlZE1vbnN0ZXIgPSBtb25zdGVyc1tyYW5kb21JbmRleF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g7ISg7YOd65CcIOuqrOyKpO2EsOuhnCDsg4Htg5wg7JeF642w7J207Yq4XG4gICAgICAgICAgc2V0QmF0dGxlU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIGlzSW5CYXR0bGU6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50TW9uc3Rlcjoge1xuICAgICAgICAgICAgICBpZDogc2VsZWN0ZWRNb25zdGVyLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBzZWxlY3RlZE1vbnN0ZXIubmFtZSxcbiAgICAgICAgICAgICAgbGV2ZWw6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIubGV2ZWwpLFxuICAgICAgICAgICAgICBtYXhIcDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5tYXhfaHApLFxuICAgICAgICAgICAgICBjdXJyZW50SHA6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIubWF4X2hwKSxcbiAgICAgICAgICAgICAgYXR0YWNrOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmF0dGFjayksXG4gICAgICAgICAgICAgIGRlZmVuc2U6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuZGVmZW5zZSksXG4gICAgICAgICAgICAgIGV4cDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5leHApLFxuICAgICAgICAgICAgICBnb2xkOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmdvbGQpLFxuICAgICAgICAgICAgICBpdGVtRHJvcENoYW5jZTogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5pdGVtX2Ryb3BfY2hhbmNlIHx8IDAuMDUpLCAvLyDquLDrs7ggNSVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDsiqTthYzsnbTsp4Dsl5Ag66qs7Iqk7YSwIOygleuztOqwgCDsl4bqsbDrgpgg7KGw7ZqMIOyLpO2MqOyLnCDquLDrs7gg66qs7Iqk7YSwIOyDneyEsVxuICAgICAgY3JlYXRlRGVmYXVsdE1vbnN0ZXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign66qs7Iqk7YSwIOyDneyEsSDsi6TtjKg6JywgZXJyb3IpO1xuICAgICAgLy8g7Jik66WYIOuwnOyDnSDsi5wg6riw67O4IOuqrOyKpO2EsCDsg53shLFcbiAgICAgIGNyZWF0ZURlZmF1bHRNb25zdGVyKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLy8g6riw67O4IOuqrOyKpO2EsCDsg53shLEg7ZWo7IiYXG4gIGNvbnN0IGNyZWF0ZURlZmF1bHRNb25zdGVyID0gKCkgPT4ge1xuICAgIGlmICghY2hhcmFjdGVyKSByZXR1cm47XG4gICAgXG4gICAgLy8g6riw67O4IOuqrOyKpO2EsCDsg53shLFcbiAgICBjb25zdCBkZWZhdWx0TW9uc3RlcjogTW9uc3RlciA9IHtcbiAgICAgIGlkOiAnZGVmYXVsdC1tb25zdGVyLScgKyBEYXRlLm5vdygpLFxuICAgICAgbmFtZTogJ+qzoOu4lOumsCcsXG4gICAgICBsZXZlbDogTWF0aC5tYXgoMSwgY2hhcmFjdGVyLmxldmVsIC0gMSksXG4gICAgICBtYXhIcDogNTAgKyBjaGFyYWN0ZXIubGV2ZWwgKiAxMCxcbiAgICAgIGN1cnJlbnRIcDogNTAgKyBjaGFyYWN0ZXIubGV2ZWwgKiAxMCxcbiAgICAgIGF0dGFjazogNSArIGNoYXJhY3Rlci5sZXZlbCAqIDIsXG4gICAgICBkZWZlbnNlOiAyICsgY2hhcmFjdGVyLmxldmVsLFxuICAgICAgZXhwOiAxNSArIGNoYXJhY3Rlci5sZXZlbCAqIDUsXG4gICAgICBnb2xkOiAxMCArIGNoYXJhY3Rlci5sZXZlbCAqIDMsXG4gICAgICBpdGVtRHJvcENoYW5jZTogMC4wNVxuICAgIH07XG4gICAgXG4gICAgLy8g66qs7Iqk7YSwIOyDge2DnCDsl4XrjbDsnbTtirhcbiAgICBzZXRCYXR0bGVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgaXNJbkJhdHRsZTogdHJ1ZSxcbiAgICAgIGN1cnJlbnRNb25zdGVyOiBkZWZhdWx0TW9uc3RlclxuICAgIH0pKTtcbiAgICBcbiAgICAvLyDrqqzsiqTthLAg65Ox7J6lIOuhnOq3uFxuICAgIGlmIChvbkxvZ1VwZGF0ZSkge1xuICAgICAgb25Mb2dVcGRhdGUoe1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIHR5cGU6ICdiYXR0bGUnLFxuICAgICAgICBtZXNzYWdlOiBgJHtkZWZhdWx0TW9uc3Rlci5uYW1lfeydtCjqsIApIOuCmO2DgOuCrOyKteuLiOuLpCFgLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyDrjbDrr7jsp4Ag6rOE7IKwIO2VqOyImFxuICBjb25zdCBjYWxjdWxhdGVEYW1hZ2UgPSAoYXR0YWNrZXI6IHsgYXR0YWNrOiBudW1iZXIgfSwgZGVmZW5kZXI6IHsgZGVmZW5zZTogbnVtYmVyIH0pID0+IHtcbiAgICBjb25zdCBiYXNlRGFtYWdlID0gTWF0aC5tYXgoYXR0YWNrZXIuYXR0YWNrIC0gZGVmZW5kZXIuZGVmZW5zZSwgMSk7XG4gICAgY29uc3QgdmFyaWFuY2UgPSBNYXRoLnJhbmRvbSgpICogMC4yIC0gMC4xOyAvLyAtMTAlIH4gKzEwJSDrs4Drj5lcbiAgICByZXR1cm4gTWF0aC5yb3VuZChiYXNlRGFtYWdlICogKDEgKyB2YXJpYW5jZSkpOyAvLyDrsJjsmKzrprztlZjsl6wg7KCV7IiY66GcIOuwmO2ZmFxuICB9O1xuXG4gIC8vIOyghO2IrCDsp4Ttlokg7ZWo7IiYXG4gIGNvbnN0IHByb2dyZXNzQmF0dGxlID0gKCkgPT4ge1xuICAgIGlmICghY2hhcmFjdGVyIHx8ICFiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3RlciB8fCAhYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSkgcmV0dXJuO1xuXG4gICAgLy8g7LaU6rCAOiDsnKDtmqjshLEg6rKA7IKsIOy2lOqwgFxuICAgIGlmIChpc05hTihjaGFyYWN0ZXIuY3VycmVudEhwKSB8fCBpc05hTihiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5jdXJyZW50SHApKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfsnKDtmqjtlZjsp4Ag7JWK7J2AIEhQIOqwkjogJywge1xuICAgICAgICBjaGFyYWN0ZXJIcDogY2hhcmFjdGVyLmN1cnJlbnRIcCxcbiAgICAgICAgbW9uc3RlckhwOiBiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5jdXJyZW50SHBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBIUCDqsJIg7LSI6riw7ZmUIOyLnOuPhFxuICAgICAgc2V0Q2hhcmFjdGVyKHByZXYgPT4gcHJldiA/IHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgY3VycmVudEhwOiBwcmV2Lm1heEhwIHx8IDEwMCAvLyDquLDrs7jqsJIg7ISk7KCVXG4gICAgICB9IDogbnVsbCk7XG4gICAgICBcbiAgICAgIHNldEJhdHRsZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgY3VycmVudE1vbnN0ZXI6IHByZXYuY3VycmVudE1vbnN0ZXIgPyB7XG4gICAgICAgICAgLi4ucHJldi5jdXJyZW50TW9uc3RlcixcbiAgICAgICAgICBjdXJyZW50SHA6IHByZXYuY3VycmVudE1vbnN0ZXIubWF4SHAgfHwgNTAgLy8g6riw67O46rCSIOyEpOyglVxuICAgICAgICB9IDogbnVsbFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICByZXR1cm47IC8vIOqzhOyCsCDspJHri6hcbiAgICB9XG5cbiAgICAvLyDsupDrpq3thLDsnZgg6rO16rKpXG4gICAgY29uc3QgZGFtYWdlVG9Nb25zdGVyID0gY2FsY3VsYXRlRGFtYWdlKGNoYXJhY3RlciwgYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIpO1xuICAgIGNvbnN0IHVwZGF0ZWRNb25zdGVySHAgPSBNYXRoLm1heChNYXRoLnJvdW5kKGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmN1cnJlbnRIcCAtIGRhbWFnZVRvTW9uc3RlciksIDApO1xuXG4gICAgLy8g66qs7Iqk7YSw7J2YIOuwmOqyqVxuICAgIGNvbnN0IGRhbWFnZVRvQ2hhcmFjdGVyID0gY2FsY3VsYXRlRGFtYWdlKGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLCBjaGFyYWN0ZXIpO1xuICAgIGNvbnN0IHVwZGF0ZWRDaGFyYWN0ZXJIcCA9IE1hdGgubWF4KE1hdGgucm91bmQoY2hhcmFjdGVyLmN1cnJlbnRIcCAtIGRhbWFnZVRvQ2hhcmFjdGVyKSwgMCk7XG5cbiAgICAvLyDsg4Htg5wg7JeF642w7J207Yq4XG4gICAgc2V0Q2hhcmFjdGVyKHByZXYgPT4gcHJldiA/IHsgLi4ucHJldiwgY3VycmVudEhwOiB1cGRhdGVkQ2hhcmFjdGVySHAgfSA6IG51bGwpO1xuICAgIHNldEJhdHRsZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBjdXJyZW50TW9uc3RlcjogcHJldi5jdXJyZW50TW9uc3RlciA/IHtcbiAgICAgICAgLi4ucHJldi5jdXJyZW50TW9uc3RlcixcbiAgICAgICAgY3VycmVudEhwOiB1cGRhdGVkTW9uc3RlckhwLFxuICAgICAgfSA6IG51bGwsXG4gICAgICBsYXN0RGFtYWdlRGVhbHQ6IGRhbWFnZVRvTW9uc3RlciwgLy8g7J2066+4IOygleyImOyehFxuICAgICAgbGFzdERhbWFnZVJlY2VpdmVkOiBkYW1hZ2VUb0NoYXJhY3RlciwgLy8g7J2066+4IOygleyImOyehFxuICAgIH0pKTtcblxuICAgIC8vIOuqrOyKpO2EsCDsspjsuZgg7ZmV7J24XG4gICAgaWYgKHVwZGF0ZWRNb25zdGVySHAgPD0gMCkge1xuICAgICAgaGFuZGxlTW9uc3RlckRlZmVhdCgpO1xuICAgIH1cblxuICAgIC8vIOy6kOumre2EsCDsgqzrp50g7ZmV7J24ICjtmITsnqzripQg67aA7ZmcIOyymOumrClcbiAgICBpZiAodXBkYXRlZENoYXJhY3RlckhwIDw9IDApIHtcbiAgICAgIGhhbmRsZUNoYXJhY3RlckRlZmVhdCgpO1xuICAgIH1cbiAgfTtcblxuICAvLyDrqqzsiqTthLAg7LKY7LmYIOyymOumrCDtlajsiJgg7JmE7KCE7Z6IIOyerOyekeyEsVxuICBjb25zdCBoYW5kbGVNb25zdGVyRGVmZWF0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY2hhcmFjdGVyIHx8ICFiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3RlcikgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHsgY3VycmVudE1vbnN0ZXIgfSA9IGJhdHRsZVN0YXRlO1xuICAgIFxuICAgIC8vIO2YhOyerCDqs6jrk5wg6rCSIOqwgOyguOyYpOq4sFxuICAgIGNvbnN0IGN1cnJlbnRHb2xkID0gZ2FtZURhdGEuZ29sZCB8fCAwO1xuICAgIFxuICAgIC8vIO2ajeuTne2VnCDqs6jrk5wsIOqyve2XmOy5mCDqs4TsgrBcbiAgICBjb25zdCBnb2xkR2FpbmVkID0gY3VycmVudE1vbnN0ZXIuZ29sZDtcbiAgICBjb25zdCBleHBHYWluZWQgPSBjdXJyZW50TW9uc3Rlci5leHA7XG4gICAgXG4gICAgLy8g7IOI66Gc7Jq0IOqzqOuTnCDqsJIg6rOE7IKwXG4gICAgY29uc3QgbmV3R29sZCA9IGN1cnJlbnRHb2xkICsgZ29sZEdhaW5lZDtcbiAgICBcbiAgICAvLyAxLiDsponsi5wgVUkg7JeF642w7J207Yq4XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIOqzqOuTnCBVSSDsponsi5wg7JeF642w7J207Yq4XG4gICAgc2V0R2FtZURhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBnb2xkOiBuZXdHb2xkIH0pKTtcbiAgICBcbiAgICAvLyAyLiDroZzqt7gg66mU7Iuc7KeAIOy2lOqwgFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgICBpZiAob25Mb2dVcGRhdGUpIHtcbiAgICAgIC8vIOuqrOyKpO2EsCDsspjsuZgg66Gc6re4XG4gICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ2JhdHRsZScsXG4gICAgICAgIG1lc3NhZ2U6IGAke2N1cnJlbnRNb25zdGVyLm5hbWV97J2EKOulvCkg7LKY7LmY7ZaI7Iq164uI64ukIWAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIOqzqOuTnCDtmo3rk50g66Gc6re4XG4gICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ2dvbGQnLFxuICAgICAgICBtZXNzYWdlOiBgJHtnb2xkR2FpbmVkfSDqs6jrk5zrpbwg7ZqN65Od7ZaI7Iq164uI64ukIWAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIOqyve2XmOy5mCDtmo3rk50g66Gc6re4XG4gICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ2V4cCcsXG4gICAgICAgIG1lc3NhZ2U6IGAke2V4cEdhaW5lZH0g6rK97ZeY7LmY66W8IO2ajeuTne2WiOyKteuLiOuLpCFgLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyAzLiDrtoDrqqgg7Lu07Y+s64SM7Yq47JeQIOuzgOqyvSDslYzrprxcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIOqzqOuTnCDrs4Dqsr0g7JWM66a8ICjrtoDrqqgg7Lu07Y+s64SM7Yq4KVxuICAgIGlmIChvbkdvbGRDaGFuZ2UpIHtcbiAgICAgIG9uR29sZENoYW5nZShuZXdHb2xkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gNC4g7ISc67KE7JeQIOyggOyepSDsmpTssq0gKOu5hOuPmeq4sClcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIOyEnOuyhOyXkCDrjbDsnbTthLAg7KCA7J6lICjruYTrj5nquLDroZwg67Cx6re465287Jq065Oc7JeQ7IScIOynhO2WiSlcbiAgICBjb25zdCBzYXZlUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyDslYTsnbTthZwg65Oc66GtIOyymOumrFxuICAgICAgICBsZXQgZHJvcHBlZEl0ZW0gPSBudWxsO1xuICAgICAgICBjb25zdCBpdGVtRHJvcHBlZCA9IE1hdGgucmFuZG9tKCkgPCAoY3VycmVudE1vbnN0ZXIuaXRlbURyb3BDaGFuY2UgfHwgMC4wNSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXRlbURyb3BwZWQpIHtcbiAgICAgICAgICAvLyDslYTsnbTthZwg66Gc65OcIOuwjyDsspjrpqwg66Gc7KeBLi4uXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBpdGVtc0RhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgnZ2FtZV9pdGVtcycpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5sdGUoJ3JlcXVpcmVkX2xldmVsJywgY2hhcmFjdGVyLmxldmVsKVxuICAgICAgICAgICAgLmxpbWl0KDEwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGlmIChpdGVtc0RhdGEgJiYgaXRlbXNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUl0ZW1JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGl0ZW1zRGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gaXRlbXNEYXRhW3JhbmRvbUl0ZW1JbmRleF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRyb3BwZWRJdGVtID0ge1xuICAgICAgICAgICAgICBpdGVtSWQ6IHNlbGVjdGVkSXRlbS5pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IDFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOyVhOydtO2FnCDtmo3rk50g66Gc6re4XG4gICAgICAgICAgICBpZiAob25Mb2dVcGRhdGUpIHtcbiAgICAgICAgICAgICAgb25Mb2dVcGRhdGUoe1xuICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYmF0dGxlJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtzZWxlY3RlZEl0ZW0ubmFtZX3snYQo66W8KSDtmo3rk53tlojsirXri4jri6QhYCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDshJzrsoTsl5Ag7KCE7Iah7ZWgIOuNsOydtO2EsCDqtazshLFcbiAgICAgICAgY29uc3QgbG9vdERhdGE6IExvb3REYXRhID0ge1xuICAgICAgICAgIGdvbGQ6IGdvbGRHYWluZWQsXG4gICAgICAgICAgZXhwOiBleHBHYWluZWQsXG4gICAgICAgICAgaXRlbXM6IGRyb3BwZWRJdGVtID8gW2Ryb3BwZWRJdGVtXSA6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8g7ISc67KE7JeQIOyggOyepSDsmpTssq1cbiAgICAgICAgYXdhaXQgcmVjb3JkTG9vdChsb290RGF0YSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn7KCE7YisIOuztOyDgSDshJzrsoQg7KCA7J6lIOyZhOujjCcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign7KCE7YisIOuztOyDgSDshJzrsoQg7KCA7J6lIOyLpO2MqDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICBcbiAgICAvLyA1LiDrrLTsi5ztlbTrj4Qg65CY64qUIOu5hOuPmeq4sCDsnpHsl4UgLSDsp4Ttlokg7KSR7JeQIOqzhOyGjSDsp4TtlolcbiAgICBcbiAgICAvLyDrs7TsiqQg66qs7Iqk7YSwIOyymOumrFxuICAgIGNvbnN0IGlzQm9zcyA9IGN1cnJlbnRTdGFnZT8uaXNCb3NzU3RhZ2UgJiYgc3RhZ2VQcm9ncmVzcy5pc0Jvc3NCYXR0bGU7XG4gICAgaWYgKGlzQm9zcykge1xuICAgICAgLy8g67O07IqkIOyghO2IrCDrqqjrk5wg7KKF66OMXG4gICAgICBzZXRCb3NzQmF0dGxlU3RhdGUoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyDrs7TsiqQg7LKY7LmYIOuhnOq3uCDstpTqsIBcbiAgICAgIGlmIChvbkxvZ1VwZGF0ZSkge1xuICAgICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgIHR5cGU6ICdiYXR0bGUnLFxuICAgICAgICAgIG1lc3NhZ2U6IGDwn4+GIOuztOyKpCAke2N1cnJlbnRNb25zdGVyLm5hbWV97J2EKOulvCkg7LKY7LmY7ZaI7Iq164uI64ukISDwn4+GYCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOydvOuwmCDrqqzsiqTthLDsnbgg6rK97JqwIOyKpO2FjOydtOyngCDsp4Ttlonrj4Qg7JeF642w7J207Yq4XG4gICAgICBpbmNyZW1lbnRLaWxsZWRNb25zdGVyQ291bnQoKTtcbiAgICB9XG4gICAgXG4gICAgLy8g7KCE7YisIOyDge2DnCDstIjquLDtmZRcbiAgICBzZXRCYXR0bGVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgaXNJbkJhdHRsZTogZmFsc2UsXG4gICAgICBjdXJyZW50TW9uc3RlcjogbnVsbCxcbiAgICAgIGxhc3REYW1hZ2VEZWFsdDogbnVsbCxcbiAgICAgIGxhc3REYW1hZ2VSZWNlaXZlZDogbnVsbCxcbiAgICB9KSk7XG4gICAgXG4gICAgLy8g66qs7Iqk7YSwIOyymOy5mCDtm4Qg7JW96rCE7J2YIOyngOyXsOyLnOqwhCAoMey0iClcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgIFxuICAgIC8vIOyDiCDrqqzsiqTthLAg7IOd7ISxXG4gICAgc3Bhd25Nb25zdGVyKCk7XG4gIH07XG5cbiAgLy8g7LqQ66at7YSwIOyCrOunnSDsspjrpqwgKO2YhOyerOuKlCDsponsi5wg67aA7ZmcKVxuICBjb25zdCBoYW5kbGVDaGFyYWN0ZXJEZWZlYXQgPSAoKSA9PiB7XG4gICAgaWYgKCFjaGFyYWN0ZXIpIHJldHVybjtcbiAgICBzZXRDaGFyYWN0ZXIocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50SHA6IE51bWJlcihwcmV2Lm1heEhwKSB9IDogbnVsbCk7XG4gIH07XG5cbiAgLy8g7J6Q64+ZIOyghO2IrCDtg4DsnbTrqLggLSDsiJjsoJU6IOydmOyhtOyEsSDrsLDsl7Tsl5AgaXNEYXRhTG9hZGVkIOy2lOqwgFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOuNsOydtO2EsOqwgCDsmYTsoITtnogg66Gc65Oc65CcIO2bhOyXkOunjCDsoITtiKwg7Iuc7J6RXG4gICAgaWYgKCFpc0RhdGFMb2FkZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyDsupDrpq3thLDripQg7J6I7KeA66eMIOyghO2IrCDspJHsnbQg7JWE64uI6rGw64KYIOuqrOyKpO2EsOqwgCDsl4bripQg6rK97JqwIOyDiCDrqqzsiqTthLAg7IOd7ISxXG4gICAgaWYgKGNoYXJhY3RlciAmJiAoIWJhdHRsZVN0YXRlLmlzSW5CYXR0bGUgfHwgIWJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyKSkge1xuICAgICAgY29uc29sZS5sb2coJ+yDiCDsoITtiKwg7Iuc7J6ROiDrqqzsiqTthLAg7IOd7ISxIO2VhOyalCcpO1xuICAgICAgc3Bhd25Nb25zdGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIOyghO2IrCDspJHsnbwg65WM66eMIO2DgOydtOuouCDshKTsoJVcbiAgICBpZiAoY2hhcmFjdGVyICYmIGJhdHRsZVN0YXRlLmlzSW5CYXR0bGUgJiYgYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIpIHtcbiAgICAgIC8vIOy2lOqwgCDrlJTrsoTquYVcbiAgICAgIGNvbnNvbGUubG9nKCfsoITtiKwg7KeE7ZaJIOykkTogJywge1xuICAgICAgICDrqqzsiqTthLA6IGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLm5hbWUsXG4gICAgICAgIOuqrOyKpO2EsEhQOiBgJHtiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5jdXJyZW50SHB9LyR7YmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIubWF4SHB9YCxcbiAgICAgICAg7LqQ66at7YSwSFA6IGAke2NoYXJhY3Rlci5jdXJyZW50SHB9LyR7Y2hhcmFjdGVyLm1heEhwfWBcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBiYXR0bGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgcHJvZ3Jlc3NCYXR0bGUoKTtcbiAgICAgIH0sIDEwMDAgLyAoTnVtYmVyKGNoYXJhY3Rlci5hdHRhY2tTcGVlZCkgfHwgMSkpOyAvLyDqs7Xqsqkg7IaN64+E7JeQIOuUsOuluCDtg4DsnbTrqLgg7ISk7KCVXG5cbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGJhdHRsZUludGVydmFsKTtcbiAgICB9XG4gIH0sIFtjaGFyYWN0ZXIsIGJhdHRsZVN0YXRlLmlzSW5CYXR0bGUsIGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLCBpc0RhdGFMb2FkZWRdKTtcblxuICAvLyDsnpDrj5kg7KCE7YisIO2GoOq4gFxuICBjb25zdCB0b2dnbGVBdXRvRmlnaHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0QmF0dGxlU3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGlzQXV0b01vZGU6ICFwcmV2LmlzQXV0b01vZGVcbiAgICB9KSk7XG4gIH0sIFtdKTtcblxuICAvLyDsnpDrj5kg7KCE7YisIOq0gOumrFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChiYXR0bGVTdGF0ZS5pc0F1dG9Nb2RlICYmIGNoYXJhY3RlciAmJiAhYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSkge1xuICAgICAgLy8g7J6Q64+ZIOyghO2IrCDrqqjrk5zsnbjrjbAg7KCE7YisIOykkeydtCDslYTri4jrqbQg7IOIIOuqrOyKpO2EsCDsg53shLFcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNwYXduTW9uc3RlcigpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGJhdHRsZVN0YXRlLmlzQXV0b01vZGUgJiYgYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSkge1xuICAgICAgLy8g7J6Q64+ZIOyghO2IrCDrqqjrk5zsnbTqs6Ag7KCE7YisIOykkeydtOuptCDsnpDrj5kg6rO16rKpXG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgcHJvZ3Jlc3NCYXR0bGUoKTtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwgW2JhdHRsZVN0YXRlLmlzQXV0b01vZGUsIGJhdHRsZVN0YXRlLmlzSW5CYXR0bGUsIGNoYXJhY3Rlcl0pO1xuXG4gIC8vIOyghO2IrCDtg4DsnbTrqLhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSkge1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHNldEJhdHRsZVRpbWVyKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICB9XG4gIH0sIFtiYXR0bGVTdGF0ZS5pc0luQmF0dGxlXSk7XG5cbiAgLy8g67O07IqkIOyghO2IrCDsspjrpqwg6riw64qlIOy2lOqwgFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOuztOyKpCDsoITtiKwg7IOB7YOc6rCAIOuzgOqyveuQmOuptCDsg4gg66qs7Iqk7YSwIOyGjO2ZmFxuICAgIGlmIChzdGFnZVByb2dyZXNzLmlzQm9zc0JhdHRsZSAmJiBjdXJyZW50U3RhZ2U/LmlzQm9zc1N0YWdlKSB7XG4gICAgICBjb25zb2xlLmxvZygn67O07IqkIOyghO2IrCDsi5zsnpEg6rCQ7KeAJyk7XG4gICAgICBzcGF3bk1vbnN0ZXIoKTtcbiAgICB9XG4gIH0sIFtzdGFnZVByb2dyZXNzLmlzQm9zc0JhdHRsZSwgY3VycmVudFN0YWdlXSk7XG5cbiAgaWYgKCFjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLTY0XCI+7LqQ66at7YSwIOygleuztOulvCDrtojrn6zsmKTripQg7KSRLi4uPC9kaXY+O1xuICB9XG5cbiAgaWYgKCFiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlcikge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtNjRcIj7soITtiKwg7KSA67mEIOykkS4uLjwvZGl2PjtcbiAgfVxuXG4gIC8vIOyytOugpSDrsJQg7Y287IS87Yq4IOqzhOyCsFxuICBjb25zdCBoZWFsdGhQZXJjZW50ID0gTWF0aC5mbG9vcigoYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuY3VycmVudEhwIC8gYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIubWF4SHApICogMTAwKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctZ3JheS04MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgey8qIOyghO2IrCDsnqXrqbQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC00IGJnLWdyYXktNzAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgIHsvKiDsupDrpq3thLAg7KCV67O0ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+e2NoYXJhY3Rlci5uYW1lfSBMdi57Y2hhcmFjdGVyLmxldmVsfTwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8UHJvZ3Jlc3MgXG4gICAgICAgICAgICAgICAgdmFsdWU9eyhjaGFyYWN0ZXIuY3VycmVudEhwIC8gY2hhcmFjdGVyLm1heEhwKSAqIDEwMH0gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0yIGJnLWdyYXktOTAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgSFA6IHtNYXRoLnJvdW5kKGNoYXJhY3Rlci5jdXJyZW50SHApfS97TWF0aC5yb3VuZChjaGFyYWN0ZXIubWF4SHApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBWUyDtkZzsi5wgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC00IHRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXllbGxvdy01MDBcIj5WUzwvZGl2PlxuXG4gICAgICAgICAgey8qIOuqrOyKpO2EsCDsoJXrs7QgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTJcIj5cbiAgICAgICAgICAgICAge2JhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLm5hbWV9IFxuICAgICAgICAgICAgICB7YmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuaXRlbURyb3BDaGFuY2UgJiYgYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuaXRlbURyb3BDaGFuY2UgPiAwLjUgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIG1sLTFcIj7wn5GRPC9zcGFuPn1cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8UHJvZ3Jlc3MgXG4gICAgICAgICAgICAgICAgdmFsdWU9e2hlYWx0aFBlcmNlbnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0yIGJnLWdyYXktOTAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgSFA6IHtNYXRoLnJvdW5kKGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmN1cnJlbnRIcCl9L3tNYXRoLnJvdW5kKGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLm1heEhwKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIOuNsOuvuOyngCDtkZzsi5wgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGp1c3RpZnktY2VudGVyIHNwYWNlLXgtNCB0ZXh0LXNtXCI+XG4gICAgICAgICAge2JhdHRsZVN0YXRlLmxhc3REYW1hZ2VEZWFsdCAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTQwMCBweC0yIHB5LTEgcm91bmRlZCBiZy1ncmF5LTkwMCBmb250LW1lZGl1bSBpbmxpbmUtYmxvY2tcIj5cbiAgICAgICAgICAgICAg642w66+47KeAOiB7TWF0aC5yb3VuZChiYXR0bGVTdGF0ZS5sYXN0RGFtYWdlRGVhbHQpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2JhdHRsZVN0YXRlLmxhc3REYW1hZ2VSZWNlaXZlZCAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgcHgtMiBweS0xIHJvdW5kZWQgYmctZ3JheS05MDAgZm9udC1tZWRpdW0gaW5saW5lLWJsb2NrXCI+XG4gICAgICAgICAgICAgIO2UvO2VtDoge01hdGgucm91bmQoYmF0dGxlU3RhdGUubGFzdERhbWFnZVJlY2VpdmVkKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7Lyog7KCE7YisIOygleuztCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBncmlkIGdyaWQtY29scy0yIGdhcC0zIHRleHQtc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTIgcm91bmRlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDBcIj7qs6jrk5w6IDxzcGFuIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTQwMFwiPntnYW1lRGF0YS5nb2xkfTwvc3Bhbj48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNzAwIHAtMiByb3VuZGVkXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAg67O07IOBOiBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTQwMCBtbC0xXCI+e2JhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmdvbGR9IOqzqOuTnDwvc3Bhbj4sIFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTQwMCBtbC0xXCI+e2JhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmV4cH0g6rK97ZeY7LmYPC9zcGFuPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIOyghO2IrCDsu6jtirjroaQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtzcGF3bk1vbnN0ZXJ9XG4gICAgICAgICAgZGlzYWJsZWQ9e2JhdHRsZVN0YXRlLmlzSW5CYXR0bGV9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTIgcHgtNCByb3VuZGVkIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICBiYXR0bGVTdGF0ZS5pc0luQmF0dGxlIFxuICAgICAgICAgICAgPyAnYmctZ3JheS02MDAgdGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxuICAgICAgICAgICAgOiAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTcwMCdcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIOyDiCDsoITtiKxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17cHJvZ3Jlc3NCYXR0bGV9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFiYXR0bGVTdGF0ZS5pc0luQmF0dGxlfVxuICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBweS0yIHB4LTQgcm91bmRlZCBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgIWJhdHRsZVN0YXRlLmlzSW5CYXR0bGUgXG4gICAgICAgICAgICA/ICdiZy1ncmF5LTYwMCB0ZXh0LWdyYXktNDAwIGN1cnNvci1ub3QtYWxsb3dlZCcgXG4gICAgICAgICAgICA6ICdiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ncmVlbi03MDAnXG4gICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICDqs7XqsqlcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlQXV0b0ZpZ2h0fVxuICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBweS0yIHB4LTQgcm91bmRlZCBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgYmF0dGxlU3RhdGUuaXNBdXRvTW9kZSBcbiAgICAgICAgICAgID8gJ2JnLXJlZC02MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1yZWQtNzAwJyBcbiAgICAgICAgICAgIDogJ2JnLXB1cnBsZS02MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1wdXJwbGUtNzAwJ1xuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAge2JhdHRsZVN0YXRlLmlzQXV0b01vZGUgPyAn7J6Q64+Z7KCE7YisIOykkeyngCcgOiAn7J6Q64+Z7KCE7YisJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIOuztOyKpCDrj4TsoIQg67KE7Yq8ICjri6jsiJwg7YWM7Iqk7Yq47JqpKSAqL31cbiAgICAgIHtjdXJyZW50U3RhZ2UgJiYgIXN0YWdlUHJvZ3Jlc3MuaXNCb3NzQmF0dGxlICYmIHN0YWdlUHJvZ3Jlc3MuaXNCb3NzQXZhaWxhYmxlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Qm9zc0JhdHRsZVN0YXRlKHRydWUpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcmVkLTcwMCB0ZXh0LXdoaXRlIHctZnVsbCBweS0yIHB4LTQgcm91bmRlZCBmb250LW1lZGl1bSBob3ZlcjpiZy1yZWQtODAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDrs7TsiqQg64+E7KCEXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIlByb2dyZXNzIiwiY3JlYXRlQ2xpZW50IiwidjQiLCJ1dWlkdjQiLCJyZWNvcmRMb290IiwidXNlU3RhZ2UiLCJ1c2VOb3RpZmljYXRpb24iLCJCYXR0bGVTY2VuZSIsIm9uTG9nVXBkYXRlIiwib25Hb2xkQ2hhbmdlIiwib25FeHBlcmllbmNlR2FpbmVkIiwic2hvd0ludmVudG9yeSIsInN1cGFiYXNlIiwiY3VycmVudFN0YWdlIiwic3RhZ2VQcm9ncmVzcyIsImluY3JlbWVudEtpbGxlZE1vbnN0ZXJDb3VudCIsInNldEJvc3NCYXR0bGVTdGF0ZSIsImFkZE5vdGlmaWNhdGlvbiIsImNoYXJhY3RlciIsInNldENoYXJhY3RlciIsImJhdHRsZVN0YXRlIiwic2V0QmF0dGxlU3RhdGUiLCJpc0luQmF0dGxlIiwiY3VycmVudE1vbnN0ZXIiLCJsYXN0RGFtYWdlRGVhbHQiLCJsYXN0RGFtYWdlUmVjZWl2ZWQiLCJiYXR0bGVUdXJuIiwiaXNBdXRvTW9kZSIsImlzRGF0YUxvYWRlZCIsInNldElzRGF0YUxvYWRlZCIsImdhbWVEYXRhIiwic2V0R2FtZURhdGEiLCJnb2xkIiwiYmF0dGxlVGltZXIiLCJzZXRCYXR0bGVUaW1lciIsImxvYWRDaGFyYWN0ZXJEYXRhIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGhFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiY29uc29sZSIsImNoYXJhY3RlckRhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsInNpbmdsZSIsImdhbWVEYXRhRXJyb3IiLCJtYXliZVNpbmdsZSIsImZpcnN0U3RhZ2UiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwiZGVmYXVsdFN0YWdlSWQiLCJuZXdHYW1lRGF0YSIsImluc2VydEVycm9yIiwiaW5zZXJ0IiwidXNlcl9pZCIsImN1cnJlbnRfc3RhZ2VfaWQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsIm5hbWUiLCJsZXZlbCIsIk51bWJlciIsIm1heEhwIiwibWF4X2hwIiwiY3VycmVudEhwIiwiYXR0YWNrIiwicGh5c2ljYWxfYXR0YWNrIiwiZGVmZW5zZSIsInBoeXNpY2FsX2RlZmVuc2UiLCJhdHRhY2tTcGVlZCIsImF0dGFja19zcGVlZCIsInNwYXduTW9uc3RlciIsIm1vbnN0ZXJzRGF0YSIsImxlbmd0aCIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRNb25zdGVyIiwicHJldiIsImV4cCIsIml0ZW1Ecm9wQ2hhbmNlIiwiaXRlbV9kcm9wX2NoYW5jZSIsImlzQm9zc1N0YWdlIiwiaXNCb3NzQmF0dGxlIiwibG9nIiwiYm9zc01vbnN0ZXIiLCJib3NzRGF0YSIsImJvc3NFcnJvciIsIm5vdyIsInR5cGUiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwibm9ybWFsTW9uc3RlcnMiLCJtb25zdGVyQ291bnQiLCJpbiIsIm1hcCIsIm0iLCJjcmVhdGVEZWZhdWx0TW9uc3RlciIsImN1cnJlbnRNb25zdGVySWQiLCJhdmFpbGFibGVNb25zdGVycyIsImZpbHRlciIsIm1vbnN0ZXIiLCJtb25zdGVycyIsImRlZmF1bHRNb25zdGVyIiwibWF4IiwiY2FsY3VsYXRlRGFtYWdlIiwiYXR0YWNrZXIiLCJkZWZlbmRlciIsImJhc2VEYW1hZ2UiLCJ2YXJpYW5jZSIsInJvdW5kIiwicHJvZ3Jlc3NCYXR0bGUiLCJpc05hTiIsImNoYXJhY3RlckhwIiwibW9uc3RlckhwIiwiZGFtYWdlVG9Nb25zdGVyIiwidXBkYXRlZE1vbnN0ZXJIcCIsImRhbWFnZVRvQ2hhcmFjdGVyIiwidXBkYXRlZENoYXJhY3RlckhwIiwiaGFuZGxlTW9uc3RlckRlZmVhdCIsImhhbmRsZUNoYXJhY3RlckRlZmVhdCIsImN1cnJlbnRHb2xkIiwiZ29sZEdhaW5lZCIsImV4cEdhaW5lZCIsIm5ld0dvbGQiLCJzYXZlUHJvbWlzZSIsImRyb3BwZWRJdGVtIiwiaXRlbURyb3BwZWQiLCJpdGVtc0RhdGEiLCJsdGUiLCJyYW5kb21JdGVtSW5kZXgiLCJzZWxlY3RlZEl0ZW0iLCJpdGVtSWQiLCJxdWFudGl0eSIsImxvb3REYXRhIiwiaXRlbXMiLCJ1bmRlZmluZWQiLCJpc0Jvc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCLrqqzsiqTthLAiLCLrqqzsiqTthLBIUCIsIuy6kOumre2EsEhQIiwiYmF0dGxlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ0b2dnbGVBdXRvRmlnaHQiLCJ0aW1lciIsImNsZWFyVGltZW91dCIsImludGVydmFsIiwiZGl2IiwiY2xhc3NOYW1lIiwiaGVhbHRoUGVyY2VudCIsImgzIiwidmFsdWUiLCJwIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImlzQm9zc0F2YWlsYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/battle/BattleScene.tsx\n");

/***/ })

};
;