"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_components_battle_BattleScene_tsx";
exports.ids = ["_ssr_src_components_battle_BattleScene_tsx"];
exports.modules = {

/***/ "(ssr)/./src/components/battle/BattleScene.tsx":
/*!***********************************************!*\
  !*** ./src/components/battle/BattleScene.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BattleScene)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/progress */ \"(ssr)/./src/components/ui/progress.tsx\");\n/* harmony import */ var _utils_supabase_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/supabase/client */ \"(ssr)/./src/utils/supabase/client.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _actions_game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/actions/game */ \"(ssr)/./src/actions/game.ts\");\n/* harmony import */ var _components_stage_StageContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/stage/StageContext */ \"(ssr)/./src/components/stage/StageContext.tsx\");\n/* harmony import */ var _components_common_Notifications__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/common/Notifications */ \"(ssr)/./src/components/common/Notifications.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n/**\n * Ï†ÑÌà¨ Ïû•Î©¥ÏùÑ ÌëúÏãúÌïòÎäî Ïª¥Ìè¨ÎÑåÌä∏\n * ÏûêÎèô Ï†ÑÌà¨ Î°úÏßÅÍ≥º ÏãúÍ∞ÅÏ†Å ÌëúÌòÑÏùÑ Îã¥Îãπ\n */ function BattleScene({ onLogUpdate, onGoldChange, onExperienceGained, showInventory }) {\n    const supabase = (0,_utils_supabase_client__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n    const { currentStage, stageProgress, incrementKilledMonsterCount, setBossBattleState } = (0,_components_stage_StageContext__WEBPACK_IMPORTED_MODULE_5__.useStage)();\n    const { addNotification } = (0,_components_common_Notifications__WEBPACK_IMPORTED_MODULE_6__.useNotification)();\n    const [character, setCharacter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [battleState, setBattleState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isInBattle: false,\n        currentMonster: null,\n        lastDamageDealt: null,\n        lastDamageReceived: null,\n        battleTurn: 0,\n        isAutoMode: false\n    });\n    const [isDataLoaded, setIsDataLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [gameData, setGameData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        gold: 0\n    });\n    const [battleTimer, setBattleTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Ï†ÑÌà¨ ÌÉÄÏù¥Î®∏ \n    // Ï∫êÎ¶≠ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function loadCharacterData() {\n            try {\n                console.log(\"BattleScene: Ï∫êÎ¶≠ÌÑ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏãúÏûë\");\n                // ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞ (getUser ÏÇ¨Ïö©)\n                const { data: { user }, error: authError } = await supabase.auth.getUser();\n                if (authError || !user) {\n                    console.error(\"ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù Ïò§Î•ò:\", authError);\n                    setIsDataLoaded(true); // Ïò§Î•òÍ∞Ä Î∞úÏÉùÌï¥ÎèÑ Î°úÎî© ÏÉÅÌÉú Ï¢ÖÎ£å\n                    return;\n                }\n                // Ï∫êÎ¶≠ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú\n                const { data: characterData, error } = await supabase.from(\"user_characters\").select(\"*\").eq(\"user_id\", user.id).single();\n                if (error) {\n                    console.error(\"Ï∫êÎ¶≠ÌÑ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïò§Î•ò:\", error);\n                    setIsDataLoaded(true); // Ïò§Î•òÍ∞Ä Î∞úÏÉùÌï¥ÎèÑ Î°úÎî© ÏÉÅÌÉú Ï¢ÖÎ£å\n                    return;\n                }\n                // Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞(Í≥®Îìú Îì±) Î°úÎìú\n                const { data: gameData, error: gameDataError } = await supabase.from(\"user_game_data\").select(\"gold, current_stage_id\").eq(\"user_id\", user.id).maybeSingle(); // single() ÎåÄÏã† maybeSingle() ÏÇ¨Ïö©\n                if (gameDataError) {\n                    console.error(\"Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:\", gameDataError);\n                } else {\n                    // Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÎäî Í≤ΩÏö∞ ÏÉàÎ°ú ÏÉùÏÑ±\n                    if (!gameData) {\n                        try {\n                            // Í∏∞Î≥∏ Ïä§ÌÖåÏù¥ÏßÄ ID Í∞ÄÏ†∏Ïò§Í∏∞\n                            const { data: firstStage } = await supabase.from(\"game_stages\").select(\"id\").order(\"sequence\", {\n                                ascending: true\n                            }).limit(1).single();\n                            const defaultStageId = firstStage ? firstStage.id : 1; // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\n                            // ÏÉàÎ°úÏö¥ Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±\n                            const { data: newGameData, error: insertError } = await supabase.from(\"user_game_data\").insert({\n                                user_id: user.id,\n                                gold: 0,\n                                current_stage_id: defaultStageId,\n                                created_at: new Date().toISOString(),\n                                updated_at: new Date().toISOString()\n                            }).select().single();\n                            if (insertError) {\n                                console.error(\"Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ïã§Ìå®:\", insertError);\n                            } else {\n                                setGameData({\n                                    gold: newGameData.gold || 0\n                                });\n                                if (onGoldChange) onGoldChange(newGameData.gold || 0);\n                            }\n                        } catch (insertError) {\n                            console.error(\"Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± Ï§ë Ïò§Î•ò:\", insertError);\n                        }\n                    } else {\n                        // Í∏∞Ï°¥ Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©\n                        setGameData({\n                            gold: gameData.gold || 0\n                        });\n                        // Î∂ÄÎ™® Ïª¥Ìè¨ÎÑåÌä∏Ïóê Í≥®Îìú Ï†ïÎ≥¥ Ï†ÑÎã¨\n                        if (onGoldChange) onGoldChange(gameData.gold || 0);\n                    }\n                }\n                if (characterData) {\n                    // ÏàòÏ†ï: Î™®Îì† Ïà´Ïûê Îç∞Ïù¥ÌÑ∞Ïóê Number() Ï†ÅÏö©ÌïòÏó¨ ÌÉÄÏûÖ Î≥¥Ïû•\n                    setCharacter({\n                        id: characterData.id,\n                        name: characterData.name,\n                        level: Number(characterData.level),\n                        maxHp: Number(characterData.max_hp),\n                        currentHp: Number(characterData.max_hp),\n                        attack: Number(characterData.physical_attack || characterData.attack),\n                        defense: Number(characterData.physical_defense || characterData.defense),\n                        attackSpeed: Number(characterData.attack_speed || 1)\n                    });\n                }\n                console.log(\"BattleScene: Ï∫êÎ¶≠ÌÑ∞ Î∞è Í≤åÏûÑ Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏôÑÎ£å\");\n            } catch (error) {\n                console.error(\"Ï∫êÎ¶≠ÌÑ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:\", error);\n            } finally{\n                // Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏôÑÎ£å ÌîåÎûòÍ∑∏ ÏÑ§Ï†ï - Ìï≠ÏÉÅ Î°úÎî© ÏÉÅÌÉú Ï¢ÖÎ£å\n                setIsDataLoaded(true);\n                console.log(\"BattleScene: Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏÉÅÌÉú Ï¢ÖÎ£å\");\n            }\n        }\n        loadCharacterData();\n    }, [\n        onGoldChange,\n        supabase\n    ]);\n    // Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± Ìï®ÏàòÎäî isDataLoadedÍ∞Ä trueÏùº ÎïåÎßå Ìò∏Ï∂úÎêòÎèÑÎ°ù Í∞úÏÑ†\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isDataLoaded && character) {\n            console.log(\"BattleScene: Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏôÑÎ£å, Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± ÏãúÏûë\");\n            spawnMonster();\n        }\n    }, [\n        isDataLoaded,\n        character\n    ]);\n    // Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± Ìï®Ïàò\n    const spawnMonster = async ()=>{\n        try {\n            if (!character) return;\n            // ÌòÑÏû¨ Ïä§ÌÖåÏù¥ÏßÄ Ï†ïÎ≥¥Í∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n            if (!currentStage) {\n                // Ïä§ÌÖåÏù¥ÏßÄ Ï†ïÎ≥¥Í∞Ä ÏóÜÎäî Í≤ΩÏö∞ Í∏∞Î≥∏ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± (Í∏∞Ï°¥ Î°úÏßÅ)\n                const { data: monstersData, error } = await supabase.from(\"game_monsters\").select(\"*\").eq(\"stage_id\", 1) // Í∏∞Î≥∏ Ïä§ÌÖåÏù¥ÏßÄ ID\n                .order(\"is_boss\", {\n                    ascending: true\n                }); // ÏùºÎ∞ò Î™¨Ïä§ÌÑ∞ Î®ºÏ†Ä, Î≥¥Ïä§ ÎÇòÏ§ëÏóê\n                if (error || !monstersData || monstersData.length === 0) {\n                    console.error(\"Î™¨Ïä§ÌÑ∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:\", error);\n                    return;\n                }\n                // ÎûúÎç§ Î™¨Ïä§ÌÑ∞ ÏÑ†ÌÉù\n                const randomIndex = Math.floor(Math.random() * monstersData.length);\n                const selectedMonster = monstersData[randomIndex];\n                setBattleState((prev)=>({\n                        ...prev,\n                        isInBattle: true,\n                        currentMonster: {\n                            id: selectedMonster.id,\n                            name: selectedMonster.name,\n                            level: Number(selectedMonster.level),\n                            maxHp: Number(selectedMonster.max_hp),\n                            currentHp: Number(selectedMonster.max_hp),\n                            attack: Number(selectedMonster.attack),\n                            defense: Number(selectedMonster.defense),\n                            exp: Number(selectedMonster.exp),\n                            gold: Number(selectedMonster.gold),\n                            itemDropChance: Number(selectedMonster.item_drop_chance || 0.05)\n                        }\n                    }));\n                return;\n            }\n            // Ïä§ÌÖåÏù¥ÏßÄ Ï†ïÎ≥¥Í∞Ä ÏûàÏúºÎ©¥ Ïä§ÌÖåÏù¥ÏßÄÏóê ÎßûÎäî Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n            const isBossStage = currentStage.isBossStage;\n            const isBossBattle = stageProgress.isBossBattle;\n            console.log(\"Ïä§ÌÖåÏù¥ÏßÄ Ï†ïÎ≥¥:\", {\n                isBossStage,\n                isBossBattle,\n                currentStage\n            });\n            // Î≥¥Ïä§ Ï†ÑÌà¨ Î™®ÎìúÏù∏ Í≤ΩÏö∞ Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n            if (isBossStage && isBossBattle) {\n                console.log(\"Î≥¥Ïä§ Ï†ÑÌà¨ Î™®Îìú ÌôúÏÑ±ÌôîÎê®\");\n                // Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú ÎòêÎäî ÏÉùÏÑ±\n                let bossMonster;\n                if (currentStage.bossMonster) {\n                    // Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú\n                    const { data: bossData, error: bossError } = await supabase.from(\"game_monsters\").select(\"*\").eq(\"id\", currentStage.bossMonster).single();\n                    if (bossError || !bossData) {\n                        console.error(\"Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®:\", bossError);\n                        // Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥Í∞Ä ÏóÜÏúºÎ©¥ ÏûÑÏãú Î≥¥Ïä§ ÏÉùÏÑ±\n                        bossMonster = {\n                            id: \"boss-\" + Date.now(),\n                            name: `${currentStage.name} Î≥¥Ïä§`,\n                            level: character.level + 3,\n                            maxHp: character.maxHp * 5,\n                            currentHp: character.maxHp * 5,\n                            attack: character.attack * 1.5,\n                            defense: character.defense * 1.2,\n                            exp: character.level * 100,\n                            gold: character.level * 200,\n                            itemDropChance: 0.8 // ÎÜíÏùÄ ÏïÑÏù¥ÌÖú ÎìúÎ°≠Î•†\n                        };\n                    } else {\n                        // Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©\n                        bossMonster = {\n                            id: bossData.id,\n                            name: bossData.name,\n                            level: Number(bossData.level),\n                            maxHp: Number(bossData.max_hp),\n                            currentHp: Number(bossData.max_hp),\n                            attack: Number(bossData.attack),\n                            defense: Number(bossData.defense),\n                            exp: Number(bossData.exp),\n                            gold: Number(bossData.gold),\n                            itemDropChance: Number(bossData.item_drop_chance || 0.2)\n                        };\n                    }\n                } else {\n                    // Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞ IDÍ∞Ä ÏóÜÏúºÎ©¥ ÏûÑÏãú Î≥¥Ïä§ ÏÉùÏÑ±\n                    bossMonster = {\n                        id: \"boss-\" + Date.now(),\n                        name: `${currentStage.name} Î≥¥Ïä§`,\n                        level: character.level + 3,\n                        maxHp: character.maxHp * 5,\n                        currentHp: character.maxHp * 5,\n                        attack: character.attack * 1.5,\n                        defense: character.defense * 1.2,\n                        exp: character.level * 100,\n                        gold: character.level * 200,\n                        itemDropChance: 0.8 // ÎÜíÏùÄ ÏïÑÏù¥ÌÖú ÎìúÎ°≠Î•†\n                    };\n                }\n                // Î≥¥Ïä§ Î™¨Ïä§ÌÑ∞Î°ú ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n                setBattleState((prev)=>({\n                        ...prev,\n                        isInBattle: true,\n                        currentMonster: bossMonster\n                    }));\n                // Î≥¥Ïä§ Ï∂úÌòÑ Î°úÍ∑∏ Ï∂îÍ∞Ä\n                if (onLogUpdate) {\n                    onLogUpdate({\n                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                        type: \"battle\",\n                        message: `üî• Î≥¥Ïä§ ${bossMonster.name}Ïù¥(Í∞Ä) Ï∂úÌòÑÌñàÏäµÎãàÎã§! üî•`,\n                        timestamp: new Date()\n                    });\n                }\n                return;\n            }\n            // ÏùºÎ∞ò Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú ÎòêÎäî ÏÉùÏÑ± (Ïä§ÌÖåÏù¥ÏßÄ Ï†ïÎ≥¥ Í∏∞Î∞ò)\n            if (currentStage.normalMonsters && currentStage.normalMonsters.length > 0) {\n                console.log(\"ÏùºÎ∞ò Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\");\n                // Ïä§ÌÖåÏù¥ÏßÄÏóê Ï†ïÏùòÎêú Î™¨Ïä§ÌÑ∞ Ïàò ÌôïÏù∏\n                const monsterCount = currentStage.normalMonsters.length;\n                // Î™¨Ïä§ÌÑ∞ IDÍ∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏\n                if (monsterCount > 0) {\n                    // Î™¨Ïä§ÌÑ∞ IDÍ∞Ä ÏûàÏúºÎ©¥ DBÏóêÏÑú Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥ Ï°∞Ìöå\n                    const { data: monstersData, error } = await supabase.from(\"game_monsters\").select(\"*\").in(\"id\", currentStage.normalMonsters.map((m)=>m.id));\n                    if (error || !monstersData || monstersData.length === 0) {\n                        console.error(\"Ïä§ÌÖåÏù¥ÏßÄ Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®:\", error);\n                        // ÏûÑÏãú Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n                        createDefaultMonster();\n                        return;\n                    }\n                    // Ïù¥Ï†Ñ Î™¨Ïä§ÌÑ∞ÏôÄ Îã§Î•∏ Î™¨Ïä§ÌÑ∞ ÏÑ†ÌÉù (Í∞ÄÎä•Ìïú Í≤ΩÏö∞)\n                    let selectedMonster = monstersData[0]; // Í∏∞Î≥∏Í∞í\n                    if (monstersData.length > 1) {\n                        // ÌòÑÏû¨ Î™¨Ïä§ÌÑ∞ ID Í∞ÄÏ†∏Ïò§Í∏∞ (ÏûàÎäî Í≤ΩÏö∞)\n                        const currentMonsterId = battleState.currentMonster?.id;\n                        // ÌòÑÏû¨ Î™¨Ïä§ÌÑ∞ÏôÄ Îã§Î•∏ Î™¨Ïä§ÌÑ∞Îì§ ÌïÑÌÑ∞ÎßÅ\n                        const availableMonsters = monstersData.filter((monster)=>monster.id !== currentMonsterId);\n                        // ÌïÑÌÑ∞ÎßÅÎêú Î™¨Ïä§ÌÑ∞Í∞Ä ÏûàÏúºÎ©¥ ÎûúÎç§ÏúºÎ°ú ÏÑ†ÌÉù, ÏóÜÏúºÎ©¥ Ï†ÑÏ≤¥ Î™©Î°ùÏóêÏÑú ÎûúÎç§ ÏÑ†ÌÉù\n                        const monsters = availableMonsters.length > 0 ? availableMonsters : monstersData;\n                        const randomIndex = Math.floor(Math.random() * monsters.length);\n                        selectedMonster = monsters[randomIndex];\n                    }\n                    // ÏÑ†ÌÉùÎêú Î™¨Ïä§ÌÑ∞Î°ú ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n                    setBattleState((prev)=>({\n                            ...prev,\n                            isInBattle: true,\n                            currentMonster: {\n                                id: selectedMonster.id,\n                                name: selectedMonster.name,\n                                level: Number(selectedMonster.level),\n                                maxHp: Number(selectedMonster.max_hp),\n                                currentHp: Number(selectedMonster.max_hp),\n                                attack: Number(selectedMonster.attack),\n                                defense: Number(selectedMonster.defense),\n                                exp: Number(selectedMonster.exp),\n                                gold: Number(selectedMonster.gold),\n                                itemDropChance: Number(selectedMonster.item_drop_chance || 0.05)\n                            }\n                        }));\n                    return;\n                }\n            }\n            // Ïä§ÌÖåÏù¥ÏßÄÏóê Î™¨Ïä§ÌÑ∞ Ï†ïÎ≥¥Í∞Ä ÏóÜÍ±∞ÎÇò Ï°∞Ìöå Ïã§Ìå®Ïãú Í∏∞Î≥∏ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n            createDefaultMonster();\n        } catch (error) {\n            console.error(\"Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± Ïã§Ìå®:\", error);\n            // Ïò§Î•ò Î∞úÏÉù Ïãú Í∏∞Î≥∏ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n            createDefaultMonster();\n        }\n    };\n    // Í∏∞Î≥∏ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± Ìï®Ïàò\n    const createDefaultMonster = ()=>{\n        if (!character) return;\n        // Í∏∞Î≥∏ Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n        const defaultMonster = {\n            id: \"default-monster-\" + Date.now(),\n            name: \"Í≥†Î∏îÎ¶∞\",\n            level: Math.max(1, character.level - 1),\n            maxHp: 50 + character.level * 10,\n            currentHp: 50 + character.level * 10,\n            attack: 5 + character.level * 2,\n            defense: 2 + character.level,\n            exp: 15 + character.level * 5,\n            gold: 10 + character.level * 3,\n            itemDropChance: 0.05\n        };\n        // Î™¨Ïä§ÌÑ∞ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n        setBattleState((prev)=>({\n                ...prev,\n                isInBattle: true,\n                currentMonster: defaultMonster\n            }));\n        // Î™¨Ïä§ÌÑ∞ Îì±Ïû• Î°úÍ∑∏\n        if (onLogUpdate) {\n            onLogUpdate({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                type: \"battle\",\n                message: `${defaultMonster.name}Ïù¥(Í∞Ä) ÎÇòÌÉÄÎÇ¨ÏäµÎãàÎã§!`,\n                timestamp: new Date()\n            });\n        }\n    };\n    // Îç∞ÎØ∏ÏßÄ Í≥ÑÏÇ∞ Ìï®Ïàò\n    const calculateDamage = (attacker, defender)=>{\n        const baseDamage = Math.max(attacker.attack - defender.defense, 1);\n        const variance = Math.random() * 0.2 - 0.1; // -10% ~ +10% Î≥ÄÎèô\n        return Math.round(baseDamage * (1 + variance)); // Î∞òÏò¨Î¶ºÌïòÏó¨ Ï†ïÏàòÎ°ú Î∞òÌôò\n    };\n    // Ï†ÑÌà¨ ÏßÑÌñâ Ìï®Ïàò\n    const progressBattle = ()=>{\n        if (!character || !battleState.currentMonster || !battleState.isInBattle) return;\n        // Ï∂îÍ∞Ä: Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ Ï∂îÍ∞Ä\n        if (isNaN(character.currentHp) || isNaN(battleState.currentMonster.currentHp)) {\n            console.error(\"Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ HP Í∞í: \", {\n                characterHp: character.currentHp,\n                monsterHp: battleState.currentMonster.currentHp\n            });\n            // HP Í∞í Ï¥àÍ∏∞Ìôî ÏãúÎèÑ\n            setCharacter((prev)=>prev ? {\n                    ...prev,\n                    currentHp: prev.maxHp || 100 // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\n                } : null);\n            setBattleState((prev)=>({\n                    ...prev,\n                    currentMonster: prev.currentMonster ? {\n                        ...prev.currentMonster,\n                        currentHp: prev.currentMonster.maxHp || 50 // Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï\n                    } : null\n                }));\n            return; // Í≥ÑÏÇ∞ Ï§ëÎã®\n        }\n        // Ï∫êÎ¶≠ÌÑ∞Ïùò Í≥µÍ≤©\n        const damageToMonster = calculateDamage(character, battleState.currentMonster);\n        const updatedMonsterHp = Math.max(Math.round(battleState.currentMonster.currentHp - damageToMonster), 0);\n        // Î™¨Ïä§ÌÑ∞Ïùò Î∞òÍ≤©\n        const damageToCharacter = calculateDamage(battleState.currentMonster, character);\n        const updatedCharacterHp = Math.max(Math.round(character.currentHp - damageToCharacter), 0);\n        // ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏\n        setCharacter((prev)=>prev ? {\n                ...prev,\n                currentHp: updatedCharacterHp\n            } : null);\n        setBattleState((prev)=>({\n                ...prev,\n                currentMonster: prev.currentMonster ? {\n                    ...prev.currentMonster,\n                    currentHp: updatedMonsterHp\n                } : null,\n                lastDamageDealt: damageToMonster,\n                lastDamageReceived: damageToCharacter\n            }));\n        // Î™¨Ïä§ÌÑ∞ Ï≤òÏπò ÌôïÏù∏\n        if (updatedMonsterHp <= 0) {\n            handleMonsterDefeat();\n        }\n        // Ï∫êÎ¶≠ÌÑ∞ ÏÇ¨Îßù ÌôïÏù∏ (ÌòÑÏû¨Îäî Î∂ÄÌôú Ï≤òÎ¶¨)\n        if (updatedCharacterHp <= 0) {\n            handleCharacterDefeat();\n        }\n    };\n    // Î™¨Ïä§ÌÑ∞ Ï≤òÏπò Ìï®Ïàò ÏàòÏ†ï\n    const handleMonsterDefeat = async ()=>{\n        if (!character || !battleState.currentMonster) return;\n        try {\n            const { currentMonster } = battleState;\n            // ÌöçÎìùÌïú Í≥®Îìú, Í≤ΩÌóòÏπò Í≥ÑÏÇ∞\n            const goldGained = currentMonster.gold;\n            const expGained = currentMonster.exp;\n            // ÌòÑÏû¨ Í≥®Îìú Í∞í Í∞ÄÏ†∏Ïò§Í∏∞\n            const currentGold = gameData.gold || 0;\n            // ÏÉàÎ°úÏö¥ Í≥®Îìú Í∞í Í≥ÑÏÇ∞\n            const newGold = currentGold + goldGained;\n            console.log(\"[Î™¨Ïä§ÌÑ∞ Ï≤òÏπò]\", {\n                Î™¨Ïä§ÌÑ∞: currentMonster.name,\n                ÌöçÎìùÍ≥®Îìú: goldGained,\n                ÌòÑÏû¨Í≥®Îìú: currentGold,\n                ÏÉàÍ≥®Îìú: newGold\n            });\n            // 1. Ï¶âÏãú UI ÏóÖÎç∞Ïù¥Ìä∏\n            // ÏßÅÏ†ë gameData ÏóÖÎç∞Ïù¥Ìä∏\n            setGameData((prev)=>({\n                    ...prev,\n                    gold: newGold\n                }));\n            // 2. Î∂ÄÎ™® Ïª¥Ìè¨ÎÑåÌä∏Ïóê ÏïåÎ¶º (Ïù¥Ï§ë Î≥¥Ïû•)\n            if (onGoldChange) {\n                console.log(\"[Í≥®Îìú Î≥ÄÍ≤Ω ÏßÅÏ†ë Ìò∏Ï∂ú]\", newGold);\n                onGoldChange(newGold);\n            }\n            // 3. Î°úÍ∑∏ Î©îÏãúÏßÄ\n            if (onLogUpdate) {\n                // Î™¨Ïä§ÌÑ∞ Ï≤òÏπò Î°úÍ∑∏\n                onLogUpdate({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                    type: \"battle\",\n                    message: `${currentMonster.name}ÏùÑ(Î•º) Ï≤òÏπòÌñàÏäµÎãàÎã§!`,\n                    timestamp: new Date()\n                });\n                // Í≥®Îìú ÌöçÎìù Î°úÍ∑∏\n                onLogUpdate({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                    type: \"gold\",\n                    message: `${goldGained} Í≥®ÎìúÎ•º ÌöçÎìùÌñàÏäµÎãàÎã§!`,\n                    timestamp: new Date()\n                });\n                // Í≤ΩÌóòÏπò ÌöçÎìù Î°úÍ∑∏\n                onLogUpdate({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                    type: \"exp\",\n                    message: `${expGained} Í≤ΩÌóòÏπòÎ•º ÌöçÎìùÌñàÏäµÎãàÎã§!`,\n                    timestamp: new Date()\n                });\n            }\n            // 4. Ïä§ÌÖåÏù¥ÏßÄ Ï≤òÎ¶¨\n            const isBoss = currentStage?.isBossStage && stageProgress.isBossBattle;\n            if (isBoss) {\n                // Î≥¥Ïä§ Ï†ÑÌà¨ Î™®Îìú Ï¢ÖÎ£å\n                setBossBattleState(false);\n                // Î≥¥Ïä§ Ï≤òÏπò Î°úÍ∑∏ Ï∂îÍ∞Ä\n                if (onLogUpdate) {\n                    onLogUpdate({\n                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(),\n                        type: \"battle\",\n                        message: `üèÜ Î≥¥Ïä§ ${currentMonster.name}ÏùÑ(Î•º) Ï≤òÏπòÌñàÏäµÎãàÎã§! üèÜ`,\n                        timestamp: new Date()\n                    });\n                }\n            } else {\n                // ÏùºÎ∞ò Î™¨Ïä§ÌÑ∞Ïù∏ Í≤ΩÏö∞ Ïä§ÌÖåÏù¥ÏßÄ ÏßÑÌñâÎèÑ ÏóÖÎç∞Ïù¥Ìä∏\n                incrementKilledMonsterCount();\n            }\n            // 5. Ï†ÑÌà¨ ÏÉÅÌÉú Ï¥àÍ∏∞Ìôî\n            setBattleState((prev)=>({\n                    ...prev,\n                    isInBattle: false,\n                    currentMonster: null,\n                    lastDamageDealt: null,\n                    lastDamageReceived: null\n                }));\n            // 6. ÏÑúÎ≤Ñ Ï†ÄÏû• (Î∞±Í∑∏ÎùºÏö¥Îìú Ï≤òÎ¶¨Î°ú Î∂ÑÎ¶¨)\n            setTimeout(()=>{\n                try {\n                    // lootData Íµ¨ÏÑ±\n                    const lootData = {\n                        gold: goldGained,\n                        exp: expGained,\n                        items: [] // Í∞ÑÏÜåÌôî\n                    };\n                    // ÏÑúÎ≤Ñ Ï†ÄÏû• - ÎπÑÎèôÍ∏∞Î°ú Î≥ÑÎèÑ Ï≤òÎ¶¨\n                    (0,_actions_game__WEBPACK_IMPORTED_MODULE_4__.recordLoot)(lootData).then(()=>console.log(\"ÏÑúÎ≤Ñ Î≥¥ÏÉÅ Ï†ÄÏû• ÏôÑÎ£å\")).catch((err)=>console.error(\"ÏÑúÎ≤Ñ Î≥¥ÏÉÅ Ï†ÄÏû• Ïã§Ìå®:\", err));\n                } catch (error) {\n                    console.error(\"Î≥¥ÏÉÅ Ï≤òÎ¶¨ Ïò§Î•ò:\", error);\n                }\n            }, 0); // Îã§Ïùå Ïù¥Î≤§Ìä∏ Î£®ÌîÑÏóêÏÑú Ï≤òÎ¶¨\n            // 7. ÏÉà Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± (ÏßßÏùÄ ÏßÄÏó∞ ÌõÑ)\n            await new Promise((resolve)=>setTimeout(resolve, 300));\n            spawnMonster();\n        } catch (error) {\n            console.error(\"Î™¨Ïä§ÌÑ∞ Ï≤òÏπò Ï≤òÎ¶¨ Ïò§Î•ò:\", error);\n            spawnMonster(); // Ïò§Î•òÍ∞Ä ÏûàÏñ¥ÎèÑ ÏÉà Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n        }\n    };\n    // Ï∫êÎ¶≠ÌÑ∞ ÏÇ¨Îßù Ï≤òÎ¶¨ (ÌòÑÏû¨Îäî Ï¶âÏãú Î∂ÄÌôú)\n    const handleCharacterDefeat = ()=>{\n        if (!character) return;\n        setCharacter((prev)=>prev ? {\n                ...prev,\n                currentHp: Number(prev.maxHp)\n            } : null);\n    };\n    // ÏûêÎèô Ï†ÑÌà¨ ÌÉÄÏù¥Î®∏ - ÏàòÏ†ï: ÏùòÏ°¥ÏÑ± Î∞∞Ïó¥Ïóê isDataLoaded Ï∂îÍ∞Ä\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Îç∞Ïù¥ÌÑ∞Í∞Ä ÏôÑÏ†ÑÌûà Î°úÎìúÎêú ÌõÑÏóêÎßå Ï†ÑÌà¨ ÏãúÏûë\n        if (!isDataLoaded) return;\n        // Ï∫êÎ¶≠ÌÑ∞Îäî ÏûàÏßÄÎßå Ï†ÑÌà¨ Ï§ëÏù¥ ÏïÑÎãàÍ±∞ÎÇò Î™¨Ïä§ÌÑ∞Í∞Ä ÏóÜÎäî Í≤ΩÏö∞ ÏÉà Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n        if (character && (!battleState.isInBattle || !battleState.currentMonster)) {\n            console.log(\"ÏÉà Ï†ÑÌà¨ ÏãúÏûë: Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ± ÌïÑÏöî\");\n            spawnMonster();\n            return;\n        }\n        // Ï†ÑÌà¨ Ï§ëÏùº ÎïåÎßå ÌÉÄÏù¥Î®∏ ÏÑ§Ï†ï\n        if (character && battleState.isInBattle && battleState.currentMonster) {\n            // Ï∂îÍ∞Ä ÎîîÎ≤ÑÍπÖ\n            console.log(\"Ï†ÑÌà¨ ÏßÑÌñâ Ï§ë: \", {\n                Î™¨Ïä§ÌÑ∞: battleState.currentMonster.name,\n                Î™¨Ïä§ÌÑ∞HP: `${battleState.currentMonster.currentHp}/${battleState.currentMonster.maxHp}`,\n                Ï∫êÎ¶≠ÌÑ∞HP: `${character.currentHp}/${character.maxHp}`\n            });\n            const battleInterval = setInterval(()=>{\n                progressBattle();\n            }, 1000 / (Number(character.attackSpeed) || 1)); // Í≥µÍ≤© ÏÜçÎèÑÏóê Îî∞Î•∏ ÌÉÄÏù¥Î®∏ ÏÑ§Ï†ï\n            return ()=>clearInterval(battleInterval);\n        }\n    }, [\n        character,\n        battleState.isInBattle,\n        battleState.currentMonster,\n        isDataLoaded\n    ]);\n    // ÏûêÎèô Ï†ÑÌà¨ ÌÜ†Í∏Ä\n    const toggleAutoFight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setBattleState((prev)=>({\n                ...prev,\n                isAutoMode: !prev.isAutoMode\n            }));\n    }, []);\n    // ÏûêÎèô Ï†ÑÌà¨ Í¥ÄÎ¶¨\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (battleState.isAutoMode && character && !battleState.isInBattle) {\n            // ÏûêÎèô Ï†ÑÌà¨ Î™®ÎìúÏù∏Îç∞ Ï†ÑÌà¨ Ï§ëÏù¥ ÏïÑÎãàÎ©¥ ÏÉà Î™¨Ïä§ÌÑ∞ ÏÉùÏÑ±\n            const timer = setTimeout(()=>{\n                spawnMonster();\n            }, 1000);\n            return ()=>clearTimeout(timer);\n        }\n        if (battleState.isAutoMode && battleState.isInBattle) {\n            // ÏûêÎèô Ï†ÑÌà¨ Î™®ÎìúÏù¥Í≥† Ï†ÑÌà¨ Ï§ëÏù¥Î©¥ ÏûêÎèô Í≥µÍ≤©\n            const interval = setInterval(()=>{\n                progressBattle();\n            }, 1000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        battleState.isAutoMode,\n        battleState.isInBattle,\n        character\n    ]);\n    // Ï†ÑÌà¨ ÌÉÄÏù¥Î®∏\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (battleState.isInBattle) {\n            const timer = setInterval(()=>{\n                setBattleTimer((prev)=>prev + 1);\n            }, 1000);\n            return ()=>clearInterval(timer);\n        }\n    }, [\n        battleState.isInBattle\n    ]);\n    // Î≥¥Ïä§ Ï†ÑÌà¨ Ï≤òÎ¶¨ Í∏∞Îä• Ï∂îÍ∞Ä\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Î≥¥Ïä§ Ï†ÑÌà¨ ÏÉÅÌÉúÍ∞Ä Î≥ÄÍ≤ΩÎêòÎ©¥ ÏÉà Î™¨Ïä§ÌÑ∞ ÏÜåÌôò\n        if (stageProgress.isBossBattle && currentStage?.isBossStage) {\n            console.log(\"Î≥¥Ïä§ Ï†ÑÌà¨ ÏãúÏûë Í∞êÏßÄ\");\n            spawnMonster();\n        }\n    }, [\n        stageProgress.isBossBattle,\n        currentStage\n    ]);\n    if (!character) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-64\",\n            children: \"Ï∫êÎ¶≠ÌÑ∞ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...\"\n        }, void 0, false, {\n            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n            lineNumber: 694,\n            columnNumber: 12\n        }, this);\n    }\n    if (!battleState.currentMonster) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-64\",\n            children: \"Ï†ÑÌà¨ Ï§ÄÎπÑ Ï§ë...\"\n        }, void 0, false, {\n            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n            lineNumber: 698,\n            columnNumber: 12\n        }, this);\n    }\n    // Ï≤¥Î†• Î∞î ÌçºÏÑºÌä∏ Í≥ÑÏÇ∞\n    const healthPercent = Math.floor(battleState.currentMonster.currentHp / battleState.currentMonster.maxHp * 100);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-4 bg-gray-800 rounded-lg\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-4 bg-gray-700 rounded-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-bold text-white mb-2\",\n                                        children: [\n                                            character.name,\n                                            \" Lv.\",\n                                            character.level\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 711,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_2__.Progress, {\n                                                value: character.currentHp / character.maxHp * 100,\n                                                className: \"h-2 bg-gray-900\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 713,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-300\",\n                                                children: [\n                                                    \"HP: \",\n                                                    Math.round(character.currentHp),\n                                                    \"/\",\n                                                    Math.round(character.maxHp)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 717,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 712,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 710,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mx-4 text-2xl font-bold text-yellow-500\",\n                                children: \"VS\"\n                            }, void 0, false, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 724,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-bold text-white mb-2\",\n                                        children: [\n                                            battleState.currentMonster.name,\n                                            battleState.currentMonster.itemDropChance && battleState.currentMonster.itemDropChance > 0.5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-red-600 ml-1\",\n                                                children: \"\\uD83D\\uDC51\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 730,\n                                                columnNumber: 112\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 728,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_2__.Progress, {\n                                                value: healthPercent,\n                                                className: \"h-2 bg-gray-900\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 733,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-300\",\n                                                children: [\n                                                    \"HP: \",\n                                                    Math.round(battleState.currentMonster.currentHp),\n                                                    \"/\",\n                                                    Math.round(battleState.currentMonster.maxHp)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                                lineNumber: 737,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                        lineNumber: 732,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 727,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 708,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex justify-center space-x-4 text-sm\",\n                        children: [\n                            battleState.lastDamageDealt !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-green-400 px-2 py-1 rounded bg-gray-900 font-medium inline-block\",\n                                children: [\n                                    \"Îç∞ÎØ∏ÏßÄ: \",\n                                    Math.round(battleState.lastDamageDealt)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 747,\n                                columnNumber: 13\n                            }, this),\n                            battleState.lastDamageReceived !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-red-400 px-2 py-1 rounded bg-gray-900 font-medium inline-block\",\n                                children: [\n                                    \"ÌîºÌï¥: \",\n                                    Math.round(battleState.lastDamageReceived)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                lineNumber: 752,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 745,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 707,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 grid grid-cols-2 gap-3 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-700 p-2 rounded\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300\",\n                            children: [\n                                \"Í≥®Îìú: \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-yellow-400\",\n                                    children: gameData.gold\n                                }, void 0, false, {\n                                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                    lineNumber: 762,\n                                    columnNumber: 44\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                            lineNumber: 762,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 761,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-700 p-2 rounded\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300\",\n                            children: [\n                                \"Î≥¥ÏÉÅ:\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-yellow-400 ml-1\",\n                                    children: [\n                                        battleState.currentMonster.gold,\n                                        \" Í≥®Îìú\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                    lineNumber: 767,\n                                    columnNumber: 13\n                                }, this),\n                                \",\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-blue-400 ml-1\",\n                                    children: [\n                                        battleState.currentMonster.exp,\n                                        \" Í≤ΩÌóòÏπò\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                                    lineNumber: 768,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                            lineNumber: 765,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 764,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 760,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex space-x-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: spawnMonster,\n                        disabled: battleState.isInBattle,\n                        className: `flex-1 py-2 px-4 rounded font-medium ${battleState.isInBattle ? \"bg-gray-600 text-gray-400 cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"}`,\n                        children: \"ÏÉà Ï†ÑÌà¨\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 775,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: progressBattle,\n                        disabled: !battleState.isInBattle,\n                        className: `flex-1 py-2 px-4 rounded font-medium ${!battleState.isInBattle ? \"bg-gray-600 text-gray-400 cursor-not-allowed\" : \"bg-green-600 text-white hover:bg-green-700\"}`,\n                        children: \"Í≥µÍ≤©\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 787,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleAutoFight,\n                        className: `flex-1 py-2 px-4 rounded font-medium ${battleState.isAutoMode ? \"bg-red-600 text-white hover:bg-red-700\" : \"bg-purple-600 text-white hover:bg-purple-700\"}`,\n                        children: battleState.isAutoMode ? \"ÏûêÎèôÏ†ÑÌà¨ Ï§ëÏßÄ\" : \"ÏûêÎèôÏ†ÑÌà¨\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                        lineNumber: 799,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 774,\n                columnNumber: 7\n            }, this),\n            currentStage && !stageProgress.isBossBattle && stageProgress.isBossAvailable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>setBossBattleState(true),\n                    className: \"bg-red-700 text-white w-full py-2 px-4 rounded font-medium hover:bg-red-800\",\n                    children: \"Î≥¥Ïä§ ÎèÑÏ†Ñ\"\n                }, void 0, false, {\n                    fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                    lineNumber: 814,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n                lineNumber: 813,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/hjshin/Desktop/project/work/ai-driven-dev/lvup/src/components/battle/BattleScene.tsx\",\n        lineNumber: 705,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9iYXR0bGUvQmF0dGxlU2NlbmUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUV5RDtBQUNMO0FBQ0c7QUFDbkI7QUFDa0I7QUFFSztBQUNTO0FBd0NwRTs7O0NBR0MsR0FDYyxTQUFTVSxZQUFZLEVBQUVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFQyxrQkFBa0IsRUFBRUMsYUFBYSxFQUFvQjtJQUNwSCxNQUFNQyxXQUFXWCxvRUFBWUE7SUFDN0IsTUFBTSxFQUFFWSxZQUFZLEVBQUVDLGFBQWEsRUFBRUMsMkJBQTJCLEVBQUVDLGtCQUFrQixFQUFFLEdBQUdYLHdFQUFRQTtJQUNqRyxNQUFNLEVBQUVZLGVBQWUsRUFBRSxHQUFHWCxpRkFBZUE7SUFDM0MsTUFBTSxDQUFDWSxXQUFXQyxhQUFhLEdBQUdyQiwrQ0FBUUEsQ0FBbUI7SUFDN0QsTUFBTSxDQUFDc0IsYUFBYUMsZUFBZSxHQUFHdkIsK0NBQVFBLENBQWtCO1FBQzlEd0IsWUFBWTtRQUNaQyxnQkFBZ0I7UUFDaEJDLGlCQUFpQjtRQUNqQkMsb0JBQW9CO1FBQ3BCQyxZQUFZO1FBQ1pDLFlBQVk7SUFDZDtJQUNBLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUdqQywrQ0FBUUEsQ0FBbUI7UUFBRWtDLE1BQU07SUFBRTtJQUNyRSxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR3BDLCtDQUFRQSxDQUFDLElBQUksVUFBVTtJQUU3RCxZQUFZO0lBQ1pELGdEQUFTQSxDQUFDO1FBQ1IsZUFBZXNDO1lBQ2IsSUFBSTtnQkFDRkMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLDhCQUE4QjtnQkFDOUIsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFQyxPQUFPQyxTQUFTLEVBQUUsR0FBRyxNQUFNN0IsU0FBUzhCLElBQUksQ0FBQ0MsT0FBTztnQkFFeEUsSUFB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OERBQUNWO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDTTtvQkFDQ0MsU0FBUyxJQUFNbEosbUJBQW1CO29CQUNsQzJJLFdBQVU7OEJBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sdnVwLy4vc3JjL2NvbXBvbmVudHMvYmF0dGxlL0JhdHRsZVNjZW5lLnRzeD8xOWU5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcm9ncmVzcyB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9wcm9ncmVzcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IHJlY29yZExvb3QsIExvb3REYXRhIH0gZnJvbSAnQC9hY3Rpb25zL2dhbWUnO1xuaW1wb3J0IHsgTG9nSXRlbSB9IGZyb20gJ0AvY29tcG9uZW50cy9kYXNoYm9hcmQvQmF0dGxlTG9nJztcbmltcG9ydCB7IHVzZVN0YWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3N0YWdlL1N0YWdlQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VOb3RpZmljYXRpb24gfSBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL05vdGlmaWNhdGlvbnMnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICdAL3R5cGVzL2NoYXJhY3Rlcic7XG5cbi8vIOyghO2IrCDqtIDroKgg7YOA7J6FIOygleydmFxuaW50ZXJmYWNlIE1vbnN0ZXIge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGxldmVsOiBudW1iZXI7XG4gIG1heEhwOiBudW1iZXI7XG4gIGN1cnJlbnRIcDogbnVtYmVyO1xuICBhdHRhY2s6IG51bWJlcjtcbiAgZGVmZW5zZTogbnVtYmVyO1xuICBleHA6IG51bWJlcjtcbiAgZ29sZDogbnVtYmVyO1xuICBpdGVtRHJvcENoYW5jZT86IG51bWJlcjsgLy8g7JWE7J207YWcIOuTnOuhrSDtmZXrpaBcbn1cblxuaW50ZXJmYWNlIEJhdHRsZVN0YXRlVHlwZSB7XG4gIGlzSW5CYXR0bGU6IGJvb2xlYW47XG4gIGN1cnJlbnRNb25zdGVyOiBNb25zdGVyIHwgbnVsbDtcbiAgbGFzdERhbWFnZURlYWx0OiBudW1iZXIgfCBudWxsO1xuICBsYXN0RGFtYWdlUmVjZWl2ZWQ6IG51bWJlciB8IG51bGw7XG4gIGJhdHRsZVR1cm46IG51bWJlcjtcbiAgaXNBdXRvTW9kZTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEJhdHRsZVNjZW5lUHJvcHMge1xuICBvbkxvZ1VwZGF0ZT86IChsb2c6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBEYXRlO1xuICAgIHZhbHVlPzogbnVtYmVyO1xuICB9KSA9PiB2b2lkO1xuICBvbkdvbGRDaGFuZ2U/OiAoZ29sZDogbnVtYmVyKSA9PiB2b2lkO1xuICBvbkV4cGVyaWVuY2VHYWluZWQ/OiAoZXhwOiBudW1iZXIpID0+IHZvaWQ7XG4gIHNob3dJbnZlbnRvcnk/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIOyghO2IrCDsnqXrqbTsnYQg7ZGc7Iuc7ZWY64qUIOy7tO2PrOuEjO2KuFxuICog7J6Q64+ZIOyghO2IrCDroZzsp4Hqs7wg7Iuc6rCB7KCBIO2RnO2YhOydhCDri7Tri7lcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmF0dGxlU2NlbmUoeyBvbkxvZ1VwZGF0ZSwgb25Hb2xkQ2hhbmdlLCBvbkV4cGVyaWVuY2VHYWluZWQsIHNob3dJbnZlbnRvcnkgfTogQmF0dGxlU2NlbmVQcm9wcykge1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuICBjb25zdCB7IGN1cnJlbnRTdGFnZSwgc3RhZ2VQcm9ncmVzcywgaW5jcmVtZW50S2lsbGVkTW9uc3RlckNvdW50LCBzZXRCb3NzQmF0dGxlU3RhdGUgfSA9IHVzZVN0YWdlKCk7XG4gIGNvbnN0IHsgYWRkTm90aWZpY2F0aW9uIH0gPSB1c2VOb3RpZmljYXRpb24oKTtcbiAgY29uc3QgW2NoYXJhY3Rlciwgc2V0Q2hhcmFjdGVyXSA9IHVzZVN0YXRlPENoYXJhY3RlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYmF0dGxlU3RhdGUsIHNldEJhdHRsZVN0YXRlXSA9IHVzZVN0YXRlPEJhdHRsZVN0YXRlVHlwZT4oe1xuICAgIGlzSW5CYXR0bGU6IGZhbHNlLFxuICAgIGN1cnJlbnRNb25zdGVyOiBudWxsLFxuICAgIGxhc3REYW1hZ2VEZWFsdDogbnVsbCxcbiAgICBsYXN0RGFtYWdlUmVjZWl2ZWQ6IG51bGwsXG4gICAgYmF0dGxlVHVybjogMCxcbiAgICBpc0F1dG9Nb2RlOiBmYWxzZVxuICB9KTtcbiAgY29uc3QgW2lzRGF0YUxvYWRlZCwgc2V0SXNEYXRhTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dhbWVEYXRhLCBzZXRHYW1lRGF0YV0gPSB1c2VTdGF0ZTx7IGdvbGQ6IG51bWJlciB9Pih7IGdvbGQ6IDAgfSk7XG4gIGNvbnN0IFtiYXR0bGVUaW1lciwgc2V0QmF0dGxlVGltZXJdID0gdXNlU3RhdGUoMCk7IC8vIOyghO2IrCDtg4DsnbTrqLggXG4gIFxuICAvLyDsupDrpq3thLAg7KCV67O0IOuhnOuTnFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRDaGFyYWN0ZXJEYXRhKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0JhdHRsZVNjZW5lOiDsupDrpq3thLAg642w7J207YSwIOuhnOuTnCDsi5zsnpEnKTtcbiAgICAgICAgLy8g7IKs7Jqp7J6QIOyduOymnSDsoJXrs7Qg6rCA7KC47Jik6riwIChnZXRVc2VyIOyCrOyaqSlcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoYXV0aEVycm9yIHx8ICF1c2VyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign7IKs7Jqp7J6QIOyduOymnSDsmKTrpZg6JywgYXV0aEVycm9yKTtcbiAgICAgICAgICBzZXRJc0RhdGFMb2FkZWQodHJ1ZSk7IC8vIOyYpOulmOqwgCDrsJzsg53tlbTrj4Qg66Gc65SpIOyDge2DnCDsooXro4xcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyDsupDrpq3thLAg7KCV67O0IOuhnOuTnFxuICAgICAgICBjb25zdCB7IGRhdGE6IGNoYXJhY3RlckRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCd1c2VyX2NoYXJhY3RlcnMnKVxuICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+y6kOumre2EsCDrjbDsnbTthLAg66Gc65OcIOyYpOulmDonLCBlcnJvcik7XG4gICAgICAgICAgc2V0SXNEYXRhTG9hZGVkKHRydWUpOyAvLyDsmKTrpZjqsIAg67Cc7IOd7ZW064+EIOuhnOuUqSDsg4Htg5wg7KKF66OMXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6rKM7J6EIOuNsOydtO2EsCjqs6jrk5wg65OxKSDroZzrk5xcbiAgICAgICAgY29uc3QgeyBkYXRhOiBnYW1lRGF0YSwgZXJyb3I6IGdhbWVEYXRhRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJfZ2FtZV9kYXRhJylcbiAgICAgICAgICAuc2VsZWN0KCdnb2xkLCBjdXJyZW50X3N0YWdlX2lkJylcbiAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxuICAgICAgICAgIC5tYXliZVNpbmdsZSgpOyAvLyBzaW5nbGUoKSDrjIDsi6AgbWF5YmVTaW5nbGUoKSDsgqzsmqlcbiAgICAgICAgICBcbiAgICAgICAgaWYgKGdhbWVEYXRhRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfqsozsnoQg642w7J207YSwIOuhnOuTnCDsi6TtjKg6JywgZ2FtZURhdGFFcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g6rKM7J6EIOuNsOydtO2EsOqwgCDsl4bripQg6rK97JqwIOyDiOuhnCDsg53shLFcbiAgICAgICAgICBpZiAoIWdhbWVEYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyDquLDrs7gg7Iqk7YWM7J207KeAIElEIOqwgOyguOyYpOq4sFxuICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IGZpcnN0U3RhZ2UgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgLmZyb20oJ2dhbWVfc3RhZ2VzJylcbiAgICAgICAgICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgICAgICAgICAgLm9yZGVyKCdzZXF1ZW5jZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgLmxpbWl0KDEpXG4gICAgICAgICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0U3RhZ2VJZCA9IGZpcnN0U3RhZ2UgPyBmaXJzdFN0YWdlLmlkIDogMTsgLy8g6riw67O46rCSIOyEpOyglVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8g7IOI66Gc7Jq0IOqyjOyehCDrjbDsnbTthLAg7IOd7ISxXG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogbmV3R2FtZURhdGEsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAuZnJvbSgndXNlcl9nYW1lX2RhdGEnKVxuICAgICAgICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgICAgICAgICAgICAgIGdvbGQ6IDAsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50X3N0YWdlX2lkOiBkZWZhdWx0U3RhZ2VJZCxcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign6rKM7J6EIOuNsOydtO2EsCDsg53shLEg7Iuk7YyoOicsIGluc2VydEVycm9yKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRHYW1lRGF0YSh7IGdvbGQ6IG5ld0dhbWVEYXRhLmdvbGQgfHwgMCB9KTtcbiAgICAgICAgICAgICAgICBpZiAob25Hb2xkQ2hhbmdlKSBvbkdvbGRDaGFuZ2UobmV3R2FtZURhdGEuZ29sZCB8fCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign6rKM7J6EIOuNsOydtO2EsCDsg53shLEg7KSRIOyYpOulmDonLCBpbnNlcnRFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOq4sOyhtCDqsozsnoQg642w7J207YSwIOyCrOyaqVxuICAgICAgICAgICAgc2V0R2FtZURhdGEoeyBnb2xkOiBnYW1lRGF0YS5nb2xkIHx8IDAgfSk7XG4gICAgICAgICAgICAvLyDrtoDrqqgg7Lu07Y+s64SM7Yq47JeQIOqzqOuTnCDsoJXrs7Qg7KCE64usXG4gICAgICAgICAgICBpZiAob25Hb2xkQ2hhbmdlKSBvbkdvbGRDaGFuZ2UoZ2FtZURhdGEuZ29sZCB8fCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhcmFjdGVyRGF0YSkge1xuICAgICAgICAgIC8vIOyImOyglTog66qo65OgIOyIq+yekCDrjbDsnbTthLDsl5AgTnVtYmVyKCkg7KCB7Jqp7ZWY7JesIO2DgOyehSDrs7TsnqVcbiAgICAgICAgICBzZXRDaGFyYWN0ZXIoe1xuICAgICAgICAgICAgaWQ6IGNoYXJhY3RlckRhdGEuaWQsXG4gICAgICAgICAgICBuYW1lOiBjaGFyYWN0ZXJEYXRhLm5hbWUsXG4gICAgICAgICAgICBsZXZlbDogTnVtYmVyKGNoYXJhY3RlckRhdGEubGV2ZWwpLFxuICAgICAgICAgICAgbWF4SHA6IE51bWJlcihjaGFyYWN0ZXJEYXRhLm1heF9ocCksXG4gICAgICAgICAgICBjdXJyZW50SHA6IE51bWJlcihjaGFyYWN0ZXJEYXRhLm1heF9ocCksIC8vIOy0iOq4sOyXkOuKlCDstZzrjIAg7LK066Cl7Jy866GcIOyEpOyglVxuICAgICAgICAgICAgYXR0YWNrOiBOdW1iZXIoY2hhcmFjdGVyRGF0YS5waHlzaWNhbF9hdHRhY2sgfHwgY2hhcmFjdGVyRGF0YS5hdHRhY2spLFxuICAgICAgICAgICAgZGVmZW5zZTogTnVtYmVyKGNoYXJhY3RlckRhdGEucGh5c2ljYWxfZGVmZW5zZSB8fCBjaGFyYWN0ZXJEYXRhLmRlZmVuc2UpLFxuICAgICAgICAgICAgYXR0YWNrU3BlZWQ6IE51bWJlcihjaGFyYWN0ZXJEYXRhLmF0dGFja19zcGVlZCB8fCAxKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ0JhdHRsZVNjZW5lOiDsupDrpq3thLAg67CPIOqyjOyehCDrjbDsnbTthLAg66Gc65OcIOyZhOujjCcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign7LqQ66at7YSwIOuNsOydtO2EsCDroZzrk5wg7Iuk7YyoOicsIGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIOuNsOydtO2EsCDroZzrk5wg7JmE66OMIO2UjOuemOq3uCDshKTsoJUgLSDtla3sg4Eg66Gc65SpIOyDge2DnCDsooXro4xcbiAgICAgICAgc2V0SXNEYXRhTG9hZGVkKHRydWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnQmF0dGxlU2NlbmU6IOuNsOydtO2EsCDroZzrlKkg7IOB7YOcIOyiheujjCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRDaGFyYWN0ZXJEYXRhKCk7XG4gIH0sIFtvbkdvbGRDaGFuZ2UsIHN1cGFiYXNlXSk7XG5cbiAgLy8g66qs7Iqk7YSwIOyDneyEsSDtlajsiJjripQgaXNEYXRhTG9hZGVk6rCAIHRydWXsnbwg65WM66eMIO2YuOy2nOuQmOuPhOuhnSDqsJzshKBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNEYXRhTG9hZGVkICYmIGNoYXJhY3Rlcikge1xuICAgICAgY29uc29sZS5sb2coJ0JhdHRsZVNjZW5lOiDrjbDsnbTthLAg66Gc65OcIOyZhOujjCwg66qs7Iqk7YSwIOyDneyEsSDsi5zsnpEnKTtcbiAgICAgIHNwYXduTW9uc3RlcigpO1xuICAgIH1cbiAgfSwgW2lzRGF0YUxvYWRlZCwgY2hhcmFjdGVyXSk7XG5cbiAgLy8g66qs7Iqk7YSwIOyDneyEsSDtlajsiJhcbiAgY29uc3Qgc3Bhd25Nb25zdGVyID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWNoYXJhY3RlcikgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyDtmITsnqwg7Iqk7YWM7J207KeAIOygleuztOqwgCDsl4bsnLzrqbQg6riw67O4IOuqrOyKpO2EsCDsg53shLFcbiAgICAgIGlmICghY3VycmVudFN0YWdlKSB7XG4gICAgICAgIC8vIOyKpO2FjOydtOyngCDsoJXrs7TqsIAg7JeG64qUIOqyveyasCDquLDrs7gg66qs7Iqk7YSwIOyDneyEsSAo6riw7KG0IOuhnOyngSlcbiAgICAgICAgY29uc3QgeyBkYXRhOiBtb25zdGVyc0RhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdnYW1lX21vbnN0ZXJzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAuZXEoJ3N0YWdlX2lkJywgMSkgLy8g6riw67O4IOyKpO2FjOydtOyngCBJRFxuICAgICAgICAgIC5vcmRlcignaXNfYm9zcycsIHsgYXNjZW5kaW5nOiB0cnVlIH0pOyAvLyDsnbzrsJgg66qs7Iqk7YSwIOuovOyggCwg67O07IqkIOuCmOykkeyXkFxuXG4gICAgICAgIGlmIChlcnJvciB8fCAhbW9uc3RlcnNEYXRhIHx8IG1vbnN0ZXJzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfrqqzsiqTthLAg642w7J207YSwIOuhnOuTnCDsi6TtjKg6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOuenOuNpCDrqqzsiqTthLAg7ISg7YOdXG4gICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW9uc3RlcnNEYXRhLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTW9uc3RlciA9IG1vbnN0ZXJzRGF0YVtyYW5kb21JbmRleF07XG4gICAgICAgIFxuICAgICAgICBzZXRCYXR0bGVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBpc0luQmF0dGxlOiB0cnVlLFxuICAgICAgICAgIGN1cnJlbnRNb25zdGVyOiB7XG4gICAgICAgICAgICBpZDogc2VsZWN0ZWRNb25zdGVyLmlkLFxuICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRNb25zdGVyLm5hbWUsXG4gICAgICAgICAgICBsZXZlbDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5sZXZlbCksXG4gICAgICAgICAgICBtYXhIcDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5tYXhfaHApLFxuICAgICAgICAgICAgY3VycmVudEhwOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLm1heF9ocCksXG4gICAgICAgICAgICBhdHRhY2s6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuYXR0YWNrKSxcbiAgICAgICAgICAgIGRlZmVuc2U6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuZGVmZW5zZSksXG4gICAgICAgICAgICBleHA6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuZXhwKSxcbiAgICAgICAgICAgIGdvbGQ6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuZ29sZCksXG4gICAgICAgICAgICBpdGVtRHJvcENoYW5jZTogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5pdGVtX2Ryb3BfY2hhbmNlIHx8IDAuMDUpLCAvLyDquLDrs7ggNSVcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOyKpO2FjOydtOyngCDsoJXrs7TqsIAg7J6I7Jy866m0IOyKpO2FjOydtOyngOyXkCDrp57ripQg66qs7Iqk7YSwIOyDneyEsVxuICAgICAgY29uc3QgaXNCb3NzU3RhZ2UgPSBjdXJyZW50U3RhZ2UuaXNCb3NzU3RhZ2U7XG4gICAgICBjb25zdCBpc0Jvc3NCYXR0bGUgPSBzdGFnZVByb2dyZXNzLmlzQm9zc0JhdHRsZTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+yKpO2FjOydtOyngCDsoJXrs7Q6JywgeyBpc0Jvc3NTdGFnZSwgaXNCb3NzQmF0dGxlLCBjdXJyZW50U3RhZ2UgfSk7XG4gICAgICBcbiAgICAgIC8vIOuztOyKpCDsoITtiKwg66qo65Oc7J24IOqyveyasCDrs7TsiqQg66qs7Iqk7YSwIOyDneyEsVxuICAgICAgaWYgKGlzQm9zc1N0YWdlICYmIGlzQm9zc0JhdHRsZSkge1xuICAgICAgICBjb25zb2xlLmxvZygn67O07IqkIOyghO2IrCDrqqjrk5wg7Zmc7ISx7ZmU65CoJyk7XG4gICAgICAgIFxuICAgICAgICAvLyDrs7TsiqQg66qs7Iqk7YSwIOygleuztCDroZzrk5wg65iQ64qUIOyDneyEsVxuICAgICAgICBsZXQgYm9zc01vbnN0ZXI6IE1vbnN0ZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAoY3VycmVudFN0YWdlLmJvc3NNb25zdGVyKSB7XG4gICAgICAgICAgLy8g67O07IqkIOuqrOyKpO2EsCDsoJXrs7Qg66Gc65OcXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBib3NzRGF0YSwgZXJyb3I6IGJvc3NFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdnYW1lX21vbnN0ZXJzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmVxKCdpZCcsIGN1cnJlbnRTdGFnZS5ib3NzTW9uc3RlcilcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGlmIChib3NzRXJyb3IgfHwgIWJvc3NEYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfrs7TsiqQg66qs7Iqk7YSwIOygleuztCDroZzrk5wg7Iuk7YyoOicsIGJvc3NFcnJvcik7XG4gICAgICAgICAgICAvLyDrs7TsiqQg66qs7Iqk7YSwIOygleuztOqwgCDsl4bsnLzrqbQg7J6E7IucIOuztOyKpCDsg53shLFcbiAgICAgICAgICAgIGJvc3NNb25zdGVyID0ge1xuICAgICAgICAgICAgICBpZDogJ2Jvc3MtJyArIERhdGUubm93KCksXG4gICAgICAgICAgICAgIG5hbWU6IGAke2N1cnJlbnRTdGFnZS5uYW1lfSDrs7TsiqRgLFxuICAgICAgICAgICAgICBsZXZlbDogY2hhcmFjdGVyLmxldmVsICsgMyxcbiAgICAgICAgICAgICAgbWF4SHA6IGNoYXJhY3Rlci5tYXhIcCAqIDUsXG4gICAgICAgICAgICAgIGN1cnJlbnRIcDogY2hhcmFjdGVyLm1heEhwICogNSxcbiAgICAgICAgICAgICAgYXR0YWNrOiBjaGFyYWN0ZXIuYXR0YWNrICogMS41LFxuICAgICAgICAgICAgICBkZWZlbnNlOiBjaGFyYWN0ZXIuZGVmZW5zZSAqIDEuMixcbiAgICAgICAgICAgICAgZXhwOiBjaGFyYWN0ZXIubGV2ZWwgKiAxMDAsXG4gICAgICAgICAgICAgIGdvbGQ6IGNoYXJhY3Rlci5sZXZlbCAqIDIwMCxcbiAgICAgICAgICAgICAgaXRlbURyb3BDaGFuY2U6IDAuOCAvLyDrhpLsnYAg7JWE7J207YWcIOuTnOuhreuloFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g67O07IqkIOuqrOyKpO2EsCDrjbDsnbTthLAg7IKs7JqpXG4gICAgICAgICAgICBib3NzTW9uc3RlciA9IHtcbiAgICAgICAgICAgICAgaWQ6IGJvc3NEYXRhLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBib3NzRGF0YS5uYW1lLFxuICAgICAgICAgICAgICBsZXZlbDogTnVtYmVyKGJvc3NEYXRhLmxldmVsKSxcbiAgICAgICAgICAgICAgbWF4SHA6IE51bWJlcihib3NzRGF0YS5tYXhfaHApLFxuICAgICAgICAgICAgICBjdXJyZW50SHA6IE51bWJlcihib3NzRGF0YS5tYXhfaHApLFxuICAgICAgICAgICAgICBhdHRhY2s6IE51bWJlcihib3NzRGF0YS5hdHRhY2spLFxuICAgICAgICAgICAgICBkZWZlbnNlOiBOdW1iZXIoYm9zc0RhdGEuZGVmZW5zZSksXG4gICAgICAgICAgICAgIGV4cDogTnVtYmVyKGJvc3NEYXRhLmV4cCksXG4gICAgICAgICAgICAgIGdvbGQ6IE51bWJlcihib3NzRGF0YS5nb2xkKSxcbiAgICAgICAgICAgICAgaXRlbURyb3BDaGFuY2U6IE51bWJlcihib3NzRGF0YS5pdGVtX2Ryb3BfY2hhbmNlIHx8IDAuMilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOuztOyKpCDrqqzsiqTthLAgSUTqsIAg7JeG7Jy866m0IOyehOyLnCDrs7TsiqQg7IOd7ISxXG4gICAgICAgICAgYm9zc01vbnN0ZXIgPSB7XG4gICAgICAgICAgICBpZDogJ2Jvc3MtJyArIERhdGUubm93KCksXG4gICAgICAgICAgICBuYW1lOiBgJHtjdXJyZW50U3RhZ2UubmFtZX0g67O07IqkYCxcbiAgICAgICAgICAgIGxldmVsOiBjaGFyYWN0ZXIubGV2ZWwgKyAzLFxuICAgICAgICAgICAgbWF4SHA6IGNoYXJhY3Rlci5tYXhIcCAqIDUsXG4gICAgICAgICAgICBjdXJyZW50SHA6IGNoYXJhY3Rlci5tYXhIcCAqIDUsXG4gICAgICAgICAgICBhdHRhY2s6IGNoYXJhY3Rlci5hdHRhY2sgKiAxLjUsXG4gICAgICAgICAgICBkZWZlbnNlOiBjaGFyYWN0ZXIuZGVmZW5zZSAqIDEuMixcbiAgICAgICAgICAgIGV4cDogY2hhcmFjdGVyLmxldmVsICogMTAwLFxuICAgICAgICAgICAgZ29sZDogY2hhcmFjdGVyLmxldmVsICogMjAwLFxuICAgICAgICAgICAgaXRlbURyb3BDaGFuY2U6IDAuOCAvLyDrhpLsnYAg7JWE7J207YWcIOuTnOuhreuloFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIOuztOyKpCDrqqzsiqTthLDroZwg7IOB7YOcIOyXheuNsOydtO2KuFxuICAgICAgICBzZXRCYXR0bGVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBpc0luQmF0dGxlOiB0cnVlLFxuICAgICAgICAgIGN1cnJlbnRNb25zdGVyOiBib3NzTW9uc3RlclxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyDrs7TsiqQg7Lac7ZiEIOuhnOq3uCDstpTqsIBcbiAgICAgICAgaWYgKG9uTG9nVXBkYXRlKSB7XG4gICAgICAgICAgb25Mb2dVcGRhdGUoe1xuICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgdHlwZTogJ2JhdHRsZScsXG4gICAgICAgICAgICBtZXNzYWdlOiBg8J+UpSDrs7TsiqQgJHtib3NzTW9uc3Rlci5uYW1lfeydtCjqsIApIOy2nO2YhO2WiOyKteuLiOuLpCEg8J+UpWAsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDsnbzrsJgg66qs7Iqk7YSwIOygleuztCDroZzrk5wg65iQ64qUIOyDneyEsSAo7Iqk7YWM7J207KeAIOygleuztCDquLDrsJgpXG4gICAgICBpZiAoY3VycmVudFN0YWdlLm5vcm1hbE1vbnN0ZXJzICYmIGN1cnJlbnRTdGFnZS5ub3JtYWxNb25zdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfsnbzrsJgg66qs7Iqk7YSwIOyDneyEsScpO1xuICAgICAgICBcbiAgICAgICAgLy8g7Iqk7YWM7J207KeA7JeQIOygleydmOuQnCDrqqzsiqTthLAg7IiYIO2ZleyduFxuICAgICAgICBjb25zdCBtb25zdGVyQ291bnQgPSBjdXJyZW50U3RhZ2Uubm9ybWFsTW9uc3RlcnMubGVuZ3RoO1xuICAgICAgICBcbiAgICAgICAgLy8g66qs7Iqk7YSwIElE6rCAIOyeiOuKlOyngCDtmZXsnbhcbiAgICAgICAgaWYgKG1vbnN0ZXJDb3VudCA+IDApIHtcbiAgICAgICAgICAvLyDrqqzsiqTthLAgSUTqsIAg7J6I7Jy866m0IERC7JeQ7IScIOuqrOyKpO2EsCDsoJXrs7Qg7KGw7ZqMXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBtb25zdGVyc0RhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ2dhbWVfbW9uc3RlcnMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgICAuaW4oJ2lkJywgY3VycmVudFN0YWdlLm5vcm1hbE1vbnN0ZXJzLm1hcChtID0+IG0uaWQpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGlmIChlcnJvciB8fCAhbW9uc3RlcnNEYXRhIHx8IG1vbnN0ZXJzRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+yKpO2FjOydtOyngCDrqqzsiqTthLAg7KCV67O0IOuhnOuTnCDsi6TtjKg6JywgZXJyb3IpO1xuICAgICAgICAgICAgLy8g7J6E7IucIOuqrOyKpO2EsCDsg53shLFcbiAgICAgICAgICAgIGNyZWF0ZURlZmF1bHRNb25zdGVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIOydtOyghCDrqqzsiqTthLDsmYAg64uk66W4IOuqrOyKpO2EsCDshKDtg50gKOqwgOuKpe2VnCDqsr3smrApXG4gICAgICAgICAgbGV0IHNlbGVjdGVkTW9uc3RlciA9IG1vbnN0ZXJzRGF0YVswXTsgLy8g6riw67O46rCSXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG1vbnN0ZXJzRGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyDtmITsnqwg66qs7Iqk7YSwIElEIOqwgOyguOyYpOq4sCAo7J6I64qUIOqyveyasClcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNb25zdGVySWQgPSBiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlcj8uaWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIO2YhOyerCDrqqzsiqTthLDsmYAg64uk66W4IOuqrOyKpO2EsOuTpCDtlYTthLDrp4FcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZU1vbnN0ZXJzID0gbW9uc3RlcnNEYXRhLmZpbHRlcihtb25zdGVyID0+IFxuICAgICAgICAgICAgICBtb25zdGVyLmlkICE9PSBjdXJyZW50TW9uc3RlcklkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDtlYTthLDrp4HrkJwg66qs7Iqk7YSw6rCAIOyeiOycvOuptCDrnpzrjaTsnLzroZwg7ISg7YOdLCDsl4bsnLzrqbQg7KCE7LK0IOuqqeuhneyXkOyEnCDrnpzrjaQg7ISg7YOdXG4gICAgICAgICAgICBjb25zdCBtb25zdGVycyA9IGF2YWlsYWJsZU1vbnN0ZXJzLmxlbmd0aCA+IDAgPyBhdmFpbGFibGVNb25zdGVycyA6IG1vbnN0ZXJzRGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW9uc3RlcnMubGVuZ3RoKTtcbiAgICAgICAgICAgIHNlbGVjdGVkTW9uc3RlciA9IG1vbnN0ZXJzW3JhbmRvbUluZGV4XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDshKDtg53rkJwg66qs7Iqk7YSw66GcIOyDge2DnCDsl4XrjbDsnbTtirhcbiAgICAgICAgICBzZXRCYXR0bGVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgaXNJbkJhdHRsZTogdHJ1ZSxcbiAgICAgICAgICAgIGN1cnJlbnRNb25zdGVyOiB7XG4gICAgICAgICAgICAgIGlkOiBzZWxlY3RlZE1vbnN0ZXIuaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkTW9uc3Rlci5uYW1lLFxuICAgICAgICAgICAgICBsZXZlbDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5sZXZlbCksXG4gICAgICAgICAgICAgIG1heEhwOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLm1heF9ocCksXG4gICAgICAgICAgICAgIGN1cnJlbnRIcDogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5tYXhfaHApLFxuICAgICAgICAgICAgICBhdHRhY2s6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuYXR0YWNrKSxcbiAgICAgICAgICAgICAgZGVmZW5zZTogTnVtYmVyKHNlbGVjdGVkTW9uc3Rlci5kZWZlbnNlKSxcbiAgICAgICAgICAgICAgZXhwOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLmV4cCksXG4gICAgICAgICAgICAgIGdvbGQ6IE51bWJlcihzZWxlY3RlZE1vbnN0ZXIuZ29sZCksXG4gICAgICAgICAgICAgIGl0ZW1Ecm9wQ2hhbmNlOiBOdW1iZXIoc2VsZWN0ZWRNb25zdGVyLml0ZW1fZHJvcF9jaGFuY2UgfHwgMC4wNSksIC8vIOq4sOuzuCA1JVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOyKpO2FjOydtOyngOyXkCDrqqzsiqTthLAg7KCV67O06rCAIOyXhuqxsOuCmCDsobDtmowg7Iuk7Yyo7IucIOq4sOuzuCDrqqzsiqTthLAg7IOd7ISxXG4gICAgICBjcmVhdGVEZWZhdWx0TW9uc3RlcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfrqqzsiqTthLAg7IOd7ISxIOyLpO2MqDonLCBlcnJvcik7XG4gICAgICAvLyDsmKTrpZgg67Cc7IOdIOyLnCDquLDrs7gg66qs7Iqk7YSwIOyDneyEsVxuICAgICAgY3JlYXRlRGVmYXVsdE1vbnN0ZXIoKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyDquLDrs7gg66qs7Iqk7YSwIOyDneyEsSDtlajsiJhcbiAgY29uc3QgY3JlYXRlRGVmYXVsdE1vbnN0ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFjaGFyYWN0ZXIpIHJldHVybjtcbiAgICBcbiAgICAvLyDquLDrs7gg66qs7Iqk7YSwIOyDneyEsVxuICAgIGNvbnN0IGRlZmF1bHRNb25zdGVyOiBNb25zdGVyID0ge1xuICAgICAgaWQ6ICdkZWZhdWx0LW1vbnN0ZXItJyArIERhdGUubm93KCksXG4gICAgICBuYW1lOiAn6rOg67iU66awJyxcbiAgICAgIGxldmVsOiBNYXRoLm1heCgxLCBjaGFyYWN0ZXIubGV2ZWwgLSAxKSxcbiAgICAgIG1heEhwOiA1MCArIGNoYXJhY3Rlci5sZXZlbCAqIDEwLFxuICAgICAgY3VycmVudEhwOiA1MCArIGNoYXJhY3Rlci5sZXZlbCAqIDEwLFxuICAgICAgYXR0YWNrOiA1ICsgY2hhcmFjdGVyLmxldmVsICogMixcbiAgICAgIGRlZmVuc2U6IDIgKyBjaGFyYWN0ZXIubGV2ZWwsXG4gICAgICBleHA6IDE1ICsgY2hhcmFjdGVyLmxldmVsICogNSxcbiAgICAgIGdvbGQ6IDEwICsgY2hhcmFjdGVyLmxldmVsICogMyxcbiAgICAgIGl0ZW1Ecm9wQ2hhbmNlOiAwLjA1XG4gICAgfTtcbiAgICBcbiAgICAvLyDrqqzsiqTthLAg7IOB7YOcIOyXheuNsOydtO2KuFxuICAgIHNldEJhdHRsZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBpc0luQmF0dGxlOiB0cnVlLFxuICAgICAgY3VycmVudE1vbnN0ZXI6IGRlZmF1bHRNb25zdGVyXG4gICAgfSkpO1xuICAgIFxuICAgIC8vIOuqrOyKpO2EsCDrk7HsnqUg66Gc6re4XG4gICAgaWYgKG9uTG9nVXBkYXRlKSB7XG4gICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ2JhdHRsZScsXG4gICAgICAgIG1lc3NhZ2U6IGAke2RlZmF1bHRNb25zdGVyLm5hbWV97J20KOqwgCkg64KY7YOA64Ks7Iq164uI64ukIWAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOuNsOuvuOyngCDqs4TsgrAg7ZWo7IiYXG4gIGNvbnN0IGNhbGN1bGF0ZURhbWFnZSA9IChhdHRhY2tlcjogeyBhdHRhY2s6IG51bWJlciB9LCBkZWZlbmRlcjogeyBkZWZlbnNlOiBudW1iZXIgfSkgPT4ge1xuICAgIGNvbnN0IGJhc2VEYW1hZ2UgPSBNYXRoLm1heChhdHRhY2tlci5hdHRhY2sgLSBkZWZlbmRlci5kZWZlbnNlLCAxKTtcbiAgICBjb25zdCB2YXJpYW5jZSA9IE1hdGgucmFuZG9tKCkgKiAwLjIgLSAwLjE7IC8vIC0xMCUgfiArMTAlIOuzgOuPmVxuICAgIHJldHVybiBNYXRoLnJvdW5kKGJhc2VEYW1hZ2UgKiAoMSArIHZhcmlhbmNlKSk7IC8vIOuwmOyYrOumvO2VmOyXrCDsoJXsiJjroZwg67CY7ZmYXG4gIH07XG5cbiAgLy8g7KCE7YisIOynhO2WiSDtlajsiJhcbiAgY29uc3QgcHJvZ3Jlc3NCYXR0bGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjaGFyYWN0ZXIgfHwgIWJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyIHx8ICFiYXR0bGVTdGF0ZS5pc0luQmF0dGxlKSByZXR1cm47XG5cbiAgICAvLyDstpTqsIA6IOycoO2aqOyEsSDqsoDsgqwg7LaU6rCAXG4gICAgaWYgKGlzTmFOKGNoYXJhY3Rlci5jdXJyZW50SHApIHx8IGlzTmFOKGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmN1cnJlbnRIcCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+ycoO2aqO2VmOyngCDslYrsnYAgSFAg6rCSOiAnLCB7XG4gICAgICAgIGNoYXJhY3RlckhwOiBjaGFyYWN0ZXIuY3VycmVudEhwLFxuICAgICAgICBtb25zdGVySHA6IGJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmN1cnJlbnRIcFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEhQIOqwkiDstIjquLDtmZQg7Iuc64+EXG4gICAgICBzZXRDaGFyYWN0ZXIocHJldiA9PiBwcmV2ID8ge1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBjdXJyZW50SHA6IHByZXYubWF4SHAgfHwgMTAwIC8vIOq4sOuzuOqwkiDshKTsoJVcbiAgICAgIH0gOiBudWxsKTtcbiAgICAgIFxuICAgICAgc2V0QmF0dGxlU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBjdXJyZW50TW9uc3RlcjogcHJldi5jdXJyZW50TW9uc3RlciA/IHtcbiAgICAgICAgICAuLi5wcmV2LmN1cnJlbnRNb25zdGVyLFxuICAgICAgICAgIGN1cnJlbnRIcDogcHJldi5jdXJyZW50TW9uc3Rlci5tYXhIcCB8fCA1MCAvLyDquLDrs7jqsJIg7ISk7KCVXG4gICAgICAgIH0gOiBudWxsXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybjsgLy8g6rOE7IKwIOykkeuLqFxuICAgIH1cblxuICAgIC8vIOy6kOumre2EsOydmCDqs7XqsqlcbiAgICBjb25zdCBkYW1hZ2VUb01vbnN0ZXIgPSBjYWxjdWxhdGVEYW1hZ2UoY2hhcmFjdGVyLCBiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlcik7XG4gICAgY29uc3QgdXBkYXRlZE1vbnN0ZXJIcCA9IE1hdGgubWF4KE1hdGgucm91bmQoYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuY3VycmVudEhwIC0gZGFtYWdlVG9Nb25zdGVyKSwgMCk7XG5cbiAgICAvLyDrqqzsiqTthLDsnZgg67CY6rKpXG4gICAgY29uc3QgZGFtYWdlVG9DaGFyYWN0ZXIgPSBjYWxjdWxhdGVEYW1hZ2UoYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIsIGNoYXJhY3Rlcik7XG4gICAgY29uc3QgdXBkYXRlZENoYXJhY3RlckhwID0gTWF0aC5tYXgoTWF0aC5yb3VuZChjaGFyYWN0ZXIuY3VycmVudEhwIC0gZGFtYWdlVG9DaGFyYWN0ZXIpLCAwKTtcblxuICAgIC8vIOyDge2DnCDsl4XrjbDsnbTtirhcbiAgICBzZXRDaGFyYWN0ZXIocHJldiA9PiBwcmV2ID8geyAuLi5wcmV2LCBjdXJyZW50SHA6IHVwZGF0ZWRDaGFyYWN0ZXJIcCB9IDogbnVsbCk7XG4gICAgc2V0QmF0dGxlU3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGN1cnJlbnRNb25zdGVyOiBwcmV2LmN1cnJlbnRNb25zdGVyID8ge1xuICAgICAgICAuLi5wcmV2LmN1cnJlbnRNb25zdGVyLFxuICAgICAgICBjdXJyZW50SHA6IHVwZGF0ZWRNb25zdGVySHAsXG4gICAgICB9IDogbnVsbCxcbiAgICAgIGxhc3REYW1hZ2VEZWFsdDogZGFtYWdlVG9Nb25zdGVyLCAvLyDsnbTrr7gg7KCV7IiY7J6EXG4gICAgICBsYXN0RGFtYWdlUmVjZWl2ZWQ6IGRhbWFnZVRvQ2hhcmFjdGVyLCAvLyDsnbTrr7gg7KCV7IiY7J6EXG4gICAgfSkpO1xuXG4gICAgLy8g66qs7Iqk7YSwIOyymOy5mCDtmZXsnbhcbiAgICBpZiAodXBkYXRlZE1vbnN0ZXJIcCA8PSAwKSB7XG4gICAgICBoYW5kbGVNb25zdGVyRGVmZWF0KCk7XG4gICAgfVxuXG4gICAgLy8g7LqQ66at7YSwIOyCrOunnSDtmZXsnbggKO2YhOyerOuKlCDrtoDtmZwg7LKY66asKVxuICAgIGlmICh1cGRhdGVkQ2hhcmFjdGVySHAgPD0gMCkge1xuICAgICAgaGFuZGxlQ2hhcmFjdGVyRGVmZWF0KCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIOuqrOyKpO2EsCDsspjsuZgg7ZWo7IiYIOyImOyglVxuICBjb25zdCBoYW5kbGVNb25zdGVyRGVmZWF0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY2hhcmFjdGVyIHx8ICFiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3RlcikgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnRNb25zdGVyIH0gPSBiYXR0bGVTdGF0ZTtcbiAgICAgIFxuICAgICAgLy8g7ZqN65Od7ZWcIOqzqOuTnCwg6rK97ZeY7LmYIOqzhOyCsFxuICAgICAgY29uc3QgZ29sZEdhaW5lZCA9IGN1cnJlbnRNb25zdGVyLmdvbGQ7XG4gICAgICBjb25zdCBleHBHYWluZWQgPSBjdXJyZW50TW9uc3Rlci5leHA7XG4gICAgICBcbiAgICAgIC8vIO2YhOyerCDqs6jrk5wg6rCSIOqwgOyguOyYpOq4sFxuICAgICAgY29uc3QgY3VycmVudEdvbGQgPSBnYW1lRGF0YS5nb2xkIHx8IDA7XG4gICAgICBcbiAgICAgIC8vIOyDiOuhnOyatCDqs6jrk5wg6rCSIOqzhOyCsFxuICAgICAgY29uc3QgbmV3R29sZCA9IGN1cnJlbnRHb2xkICsgZ29sZEdhaW5lZDtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1vrqqzsiqTthLAg7LKY7LmYXScsIHsgXG4gICAgICAgIOuqrOyKpO2EsDogY3VycmVudE1vbnN0ZXIubmFtZSwgXG4gICAgICAgIO2ajeuTneqzqOuTnDogZ29sZEdhaW5lZCwgXG4gICAgICAgIO2YhOyerOqzqOuTnDogY3VycmVudEdvbGQsXG4gICAgICAgIOyDiOqzqOuTnDogbmV3R29sZCBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyAxLiDsponsi5wgVUkg7JeF642w7J207Yq4XG4gICAgICAvLyDsp4HsoJEgZ2FtZURhdGEg7JeF642w7J207Yq4XG4gICAgICBzZXRHYW1lRGF0YShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGdvbGQ6IG5ld0dvbGRcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gMi4g67aA66qoIOy7tO2PrOuEjO2KuOyXkCDslYzrprwgKOydtOykkSDrs7TsnqUpXG4gICAgICBpZiAob25Hb2xkQ2hhbmdlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdb6rOo65OcIOuzgOqyvSDsp4HsoJEg7Zi47LacXScsIG5ld0dvbGQpO1xuICAgICAgICBvbkdvbGRDaGFuZ2UobmV3R29sZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIDMuIOuhnOq3uCDrqZTsi5zsp4BcbiAgICAgIGlmIChvbkxvZ1VwZGF0ZSkge1xuICAgICAgICAvLyDrqqzsiqTthLAg7LKY7LmYIOuhnOq3uFxuICAgICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgIHR5cGU6ICdiYXR0bGUnLFxuICAgICAgICAgIG1lc3NhZ2U6IGAke2N1cnJlbnRNb25zdGVyLm5hbWV97J2EKOulvCkg7LKY7LmY7ZaI7Iq164uI64ukIWAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8g6rOo65OcIO2ajeuTnSDroZzqt7hcbiAgICAgICAgb25Mb2dVcGRhdGUoe1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICB0eXBlOiAnZ29sZCcsXG4gICAgICAgICAgbWVzc2FnZTogYCR7Z29sZEdhaW5lZH0g6rOo65Oc66W8IO2ajeuTne2WiOyKteuLiOuLpCFgLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIOqyve2XmOy5mCDtmo3rk50g66Gc6re4XG4gICAgICAgIG9uTG9nVXBkYXRlKHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgdHlwZTogJ2V4cCcsXG4gICAgICAgICAgbWVzc2FnZTogYCR7ZXhwR2FpbmVkfSDqsr3tl5jsuZjrpbwg7ZqN65Od7ZaI7Iq164uI64ukIWAsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyA0LiDsiqTthYzsnbTsp4Ag7LKY66asXG4gICAgICBjb25zdCBpc0Jvc3MgPSBjdXJyZW50U3RhZ2U/LmlzQm9zc1N0YWdlICYmIHN0YWdlUHJvZ3Jlc3MuaXNCb3NzQmF0dGxlO1xuICAgICAgaWYgKGlzQm9zcykge1xuICAgICAgICAvLyDrs7TsiqQg7KCE7YisIOuqqOuTnCDsooXro4xcbiAgICAgICAgc2V0Qm9zc0JhdHRsZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOuztOyKpCDsspjsuZgg66Gc6re4IOy2lOqwgFxuICAgICAgICBpZiAob25Mb2dVcGRhdGUpIHtcbiAgICAgICAgICBvbkxvZ1VwZGF0ZSh7XG4gICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICB0eXBlOiAnYmF0dGxlJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGDwn4+GIOuztOyKpCAke2N1cnJlbnRNb25zdGVyLm5hbWV97J2EKOulvCkg7LKY7LmY7ZaI7Iq164uI64ukISDwn4+GYCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDsnbzrsJgg66qs7Iqk7YSw7J24IOqyveyasCDsiqTthYzsnbTsp4Ag7KeE7ZaJ64+EIOyXheuNsOydtO2KuFxuICAgICAgICBpbmNyZW1lbnRLaWxsZWRNb25zdGVyQ291bnQoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gNS4g7KCE7YisIOyDge2DnCDstIjquLDtmZRcbiAgICAgIHNldEJhdHRsZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgaXNJbkJhdHRsZTogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRNb25zdGVyOiBudWxsLFxuICAgICAgICBsYXN0RGFtYWdlRGVhbHQ6IG51bGwsXG4gICAgICAgIGxhc3REYW1hZ2VSZWNlaXZlZDogbnVsbCxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gNi4g7ISc67KEIOyggOyepSAo67Cx6re465287Jq065OcIOyymOumrOuhnCDrtoTrpqwpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBsb290RGF0YSDqtazshLFcbiAgICAgICAgICBjb25zdCBsb290RGF0YTogTG9vdERhdGEgPSB7XG4gICAgICAgICAgICBnb2xkOiBnb2xkR2FpbmVkLFxuICAgICAgICAgICAgZXhwOiBleHBHYWluZWQsXG4gICAgICAgICAgICBpdGVtczogW10gLy8g6rCE7IaM7ZmUXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDshJzrsoQg7KCA7J6lIC0g67mE64+Z6riw66GcIOuzhOuPhCDsspjrpqxcbiAgICAgICAgICByZWNvcmRMb290KGxvb3REYXRhKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ+yEnOuyhCDrs7Tsg4Eg7KCA7J6lIOyZhOujjCcpKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCfshJzrsoQg67O07IOBIOyggOyepSDsi6TtjKg6JywgZXJyKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign67O07IOBIOyymOumrCDsmKTrpZg6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCAwKTsgLy8g64uk7J2MIOydtOuypO2KuCDro6jtlITsl5DshJwg7LKY66asXG4gICAgICBcbiAgICAgIC8vIDcuIOyDiCDrqqzsiqTthLAg7IOd7ISxICjsp6fsnYAg7KeA7JewIO2bhClcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcbiAgICAgIHNwYXduTW9uc3RlcigpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+uqrOyKpO2EsCDsspjsuZgg7LKY66asIOyYpOulmDonLCBlcnJvcik7XG4gICAgICBzcGF3bk1vbnN0ZXIoKTsgLy8g7Jik66WY6rCAIOyeiOyWtOuPhCDsg4gg66qs7Iqk7YSwIOyDneyEsVxuICAgIH1cbiAgfTtcblxuICAvLyDsupDrpq3thLAg7IKs66edIOyymOumrCAo7ZiE7J6s64qUIOymieyLnCDrtoDtmZwpXG4gIGNvbnN0IGhhbmRsZUNoYXJhY3RlckRlZmVhdCA9ICgpID0+IHtcbiAgICBpZiAoIWNoYXJhY3RlcikgcmV0dXJuO1xuICAgIHNldENoYXJhY3RlcihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIGN1cnJlbnRIcDogTnVtYmVyKHByZXYubWF4SHApIH0gOiBudWxsKTtcbiAgfTtcblxuICAvLyDsnpDrj5kg7KCE7YisIO2DgOydtOuouCAtIOyImOyglTog7J2Y7KG07ISxIOuwsOyXtOyXkCBpc0RhdGFMb2FkZWQg7LaU6rCAXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g642w7J207YSw6rCAIOyZhOyghO2eiCDroZzrk5zrkJwg7ZuE7JeQ66eMIOyghO2IrCDsi5zsnpFcbiAgICBpZiAoIWlzRGF0YUxvYWRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIOy6kOumre2EsOuKlCDsnojsp4Drp4wg7KCE7YisIOykkeydtCDslYTri4jqsbDrgpgg66qs7Iqk7YSw6rCAIOyXhuuKlCDqsr3smrAg7IOIIOuqrOyKpO2EsCDsg53shLFcbiAgICBpZiAoY2hhcmFjdGVyICYmICghYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSB8fCAhYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIpKSB7XG4gICAgICBjb25zb2xlLmxvZygn7IOIIOyghO2IrCDsi5zsnpE6IOuqrOyKpO2EsCDsg53shLEg7ZWE7JqUJyk7XG4gICAgICBzcGF3bk1vbnN0ZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8g7KCE7YisIOykkeydvCDrlYzrp4wg7YOA7J2066i4IOyEpOyglVxuICAgIGlmIChjaGFyYWN0ZXIgJiYgYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSAmJiBiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlcikge1xuICAgICAgLy8g7LaU6rCAIOuUlOuyhOq5hVxuICAgICAgY29uc29sZS5sb2coJ+yghO2IrCDsp4Ttlokg7KSROiAnLCB7XG4gICAgICAgIOuqrOyKpO2EsDogYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIubmFtZSxcbiAgICAgICAg66qs7Iqk7YSwSFA6IGAke2JhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyLmN1cnJlbnRIcH0vJHtiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5tYXhIcH1gLFxuICAgICAgICDsupDrpq3thLBIUDogYCR7Y2hhcmFjdGVyLmN1cnJlbnRIcH0vJHtjaGFyYWN0ZXIubWF4SHB9YFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGJhdHRsZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBwcm9ncmVzc0JhdHRsZSgpO1xuICAgICAgfSwgMTAwMCAvIChOdW1iZXIoY2hhcmFjdGVyLmF0dGFja1NwZWVkKSB8fCAxKSk7IC8vIOqzteqyqSDsho3rj4Tsl5Ag65Sw66W4IO2DgOydtOuouCDshKTsoJVcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoYmF0dGxlSW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwgW2NoYXJhY3RlciwgYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSwgYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIsIGlzRGF0YUxvYWRlZF0pO1xuXG4gIC8vIOyekOuPmSDsoITtiKwg7Yag6riAXG4gIGNvbnN0IHRvZ2dsZUF1dG9GaWdodCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRCYXR0bGVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgaXNBdXRvTW9kZTogIXByZXYuaXNBdXRvTW9kZVxuICAgIH0pKTtcbiAgfSwgW10pO1xuXG4gIC8vIOyekOuPmSDsoITtiKwg6rSA66asXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJhdHRsZVN0YXRlLmlzQXV0b01vZGUgJiYgY2hhcmFjdGVyICYmICFiYXR0bGVTdGF0ZS5pc0luQmF0dGxlKSB7XG4gICAgICAvLyDsnpDrj5kg7KCE7YisIOuqqOuTnOyduOuNsCDsoITtiKwg7KSR7J20IOyVhOuLiOuptCDsg4gg66qs7Iqk7YSwIOyDneyEsVxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3Bhd25Nb25zdGVyKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoYmF0dGxlU3RhdGUuaXNBdXRvTW9kZSAmJiBiYXR0bGVTdGF0ZS5pc0luQmF0dGxlKSB7XG4gICAgICAvLyDsnpDrj5kg7KCE7YisIOuqqOuTnOydtOqzoCDsoITtiKwg7KSR7J2066m0IOyekOuPmSDqs7XqsqlcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBwcm9ncmVzc0JhdHRsZSgpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICB9LCBbYmF0dGxlU3RhdGUuaXNBdXRvTW9kZSwgYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSwgY2hhcmFjdGVyXSk7XG5cbiAgLy8g7KCE7YisIO2DgOydtOuouFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChiYXR0bGVTdGF0ZS5pc0luQmF0dGxlKSB7XG4gICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgc2V0QmF0dGxlVGltZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgIH1cbiAgfSwgW2JhdHRsZVN0YXRlLmlzSW5CYXR0bGVdKTtcblxuICAvLyDrs7TsiqQg7KCE7YisIOyymOumrCDquLDriqUg7LaU6rCAXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8g67O07IqkIOyghO2IrCDsg4Htg5zqsIAg67OA6rK965CY66m0IOyDiCDrqqzsiqTthLAg7IaM7ZmYXG4gICAgaWYgKHN0YWdlUHJvZ3Jlc3MuaXNCb3NzQmF0dGxlICYmIGN1cnJlbnRTdGFnZT8uaXNCb3NzU3RhZ2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfrs7TsiqQg7KCE7YisIOyLnOyekSDqsJDsp4AnKTtcbiAgICAgIHNwYXduTW9uc3RlcigpO1xuICAgIH1cbiAgfSwgW3N0YWdlUHJvZ3Jlc3MuaXNCb3NzQmF0dGxlLCBjdXJyZW50U3RhZ2VdKTtcblxuICBpZiAoIWNoYXJhY3Rlcikge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtNjRcIj7supDrpq3thLAg7KCV67O066W8IOu2iOufrOyYpOuKlCDspJEuLi48L2Rpdj47XG4gIH1cblxuICBpZiAoIWJhdHRsZVN0YXRlLmN1cnJlbnRNb25zdGVyKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC02NFwiPuyghO2IrCDspIDruYQg7KSRLi4uPC9kaXY+O1xuICB9XG5cbiAgLy8g7LK066ClIOuwlCDtjbzshLztirgg6rOE7IKwXG4gIGNvbnN0IGhlYWx0aFBlcmNlbnQgPSBNYXRoLmZsb29yKChiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5jdXJyZW50SHAgLyBiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5tYXhIcCkgKiAxMDApO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmF5LTgwMCByb3VuZGVkLWxnXCI+XG4gICAgICB7Lyog7KCE7YisIOyepeuptCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTQgYmctZ3JheS03MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgey8qIOy6kOumre2EsCDsoJXrs7QgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTJcIj57Y2hhcmFjdGVyLm5hbWV9IEx2LntjaGFyYWN0ZXIubGV2ZWx9PC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxQcm9ncmVzcyBcbiAgICAgICAgICAgICAgICB2YWx1ZT17KGNoYXJhY3Rlci5jdXJyZW50SHAgLyBjaGFyYWN0ZXIubWF4SHApICogMTAwfSBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTIgYmctZ3JheS05MDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICBIUDoge01hdGgucm91bmQoY2hhcmFjdGVyLmN1cnJlbnRIcCl9L3tNYXRoLnJvdW5kKGNoYXJhY3Rlci5tYXhIcCl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFZTIO2RnOyLnCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LTQgdGV4dC0yeGwgZm9udC1ib2xkIHRleHQteWVsbG93LTUwMFwiPlZTPC9kaXY+XG5cbiAgICAgICAgICB7Lyog66qs7Iqk7YSwIOygleuztCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtd2hpdGUgbWItMlwiPlxuICAgICAgICAgICAgICB7YmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIubmFtZX0gXG4gICAgICAgICAgICAgIHtiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5pdGVtRHJvcENoYW5jZSAmJiBiYXR0bGVTdGF0ZS5jdXJyZW50TW9uc3Rlci5pdGVtRHJvcENoYW5jZSA+IDAuNSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgbWwtMVwiPvCfkZE8L3NwYW4+fVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxQcm9ncmVzcyBcbiAgICAgICAgICAgICAgICB2YWx1ZT17aGVhbHRoUGVyY2VudH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTIgYmctZ3JheS05MDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICBIUDoge01hdGgucm91bmQoYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuY3VycmVudEhwKX0ve01hdGgucm91bmQoYmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIubWF4SHApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7Lyog642w66+47KeAIO2RnOyLnCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXgganVzdGlmeS1jZW50ZXIgc3BhY2UteC00IHRleHQtc21cIj5cbiAgICAgICAgICB7YmF0dGxlU3RhdGUubGFzdERhbWFnZURlYWx0ICE9PSBudWxsICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNDAwIHB4LTIgcHktMSByb3VuZGVkIGJnLWdyYXktOTAwIGZvbnQtbWVkaXVtIGlubGluZS1ibG9ja1wiPlxuICAgICAgICAgICAgICDrjbDrr7jsp4A6IHtNYXRoLnJvdW5kKGJhdHRsZVN0YXRlLmxhc3REYW1hZ2VEZWFsdCl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7YmF0dGxlU3RhdGUubGFzdERhbWFnZVJlY2VpdmVkICE9PSBudWxsICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCBweC0yIHB5LTEgcm91bmRlZCBiZy1ncmF5LTkwMCBmb250LW1lZGl1bSBpbmxpbmUtYmxvY2tcIj5cbiAgICAgICAgICAgICAg7ZS87ZW0OiB7TWF0aC5yb3VuZChiYXR0bGVTdGF0ZS5sYXN0RGFtYWdlUmVjZWl2ZWQpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiDsoITtiKwg7KCV67O0ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTMgdGV4dC1zbVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNzAwIHAtMiByb3VuZGVkXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMFwiPuqzqOuTnDogPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwXCI+e2dhbWVEYXRhLmdvbGR9PC9zcGFuPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS03MDAgcC0yIHJvdW5kZWRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICDrs7Tsg4E6IFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIG1sLTFcIj57YmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuZ29sZH0g6rOo65OcPC9zcGFuPiwgXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNDAwIG1sLTFcIj57YmF0dGxlU3RhdGUuY3VycmVudE1vbnN0ZXIuZXhwfSDqsr3tl5jsuZg8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7Lyog7KCE7YisIOy7qO2KuOuhpCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e3NwYXduTW9uc3Rlcn1cbiAgICAgICAgICBkaXNhYmxlZD17YmF0dGxlU3RhdGUuaXNJbkJhdHRsZX1cbiAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcHktMiBweC00IHJvdW5kZWQgZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICAgIGJhdHRsZVN0YXRlLmlzSW5CYXR0bGUgXG4gICAgICAgICAgICA/ICdiZy1ncmF5LTYwMCB0ZXh0LWdyYXktNDAwIGN1cnNvci1ub3QtYWxsb3dlZCcgXG4gICAgICAgICAgICA6ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWJsdWUtNzAwJ1xuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAg7IOIIOyghO2IrFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtwcm9ncmVzc0JhdHRsZX1cbiAgICAgICAgICBkaXNhYmxlZD17IWJhdHRsZVN0YXRlLmlzSW5CYXR0bGV9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTIgcHgtNCByb3VuZGVkIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAhYmF0dGxlU3RhdGUuaXNJbkJhdHRsZSBcbiAgICAgICAgICAgID8gJ2JnLWdyYXktNjAwIHRleHQtZ3JheS00MDAgY3Vyc29yLW5vdC1hbGxvd2VkJyBcbiAgICAgICAgICAgIDogJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyZWVuLTcwMCdcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIOqzteqyqVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVBdXRvRmlnaHR9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTIgcHgtNCByb3VuZGVkIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICBiYXR0bGVTdGF0ZS5pc0F1dG9Nb2RlIFxuICAgICAgICAgICAgPyAnYmctcmVkLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXJlZC03MDAnIFxuICAgICAgICAgICAgOiAnYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXB1cnBsZS03MDAnXG4gICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7YmF0dGxlU3RhdGUuaXNBdXRvTW9kZSA/ICfsnpDrj5nsoITtiKwg7KSR7KeAJyA6ICfsnpDrj5nsoITtiKwnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7Lyog67O07IqkIOuPhOyghCDrsoTtirwgKOuLqOyInCDthYzsiqTtirjsmqkpICovfVxuICAgICAge2N1cnJlbnRTdGFnZSAmJiAhc3RhZ2VQcm9ncmVzcy5pc0Jvc3NCYXR0bGUgJiYgc3RhZ2VQcm9ncmVzcy5pc0Jvc3NBdmFpbGFibGUgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRCb3NzQmF0dGxlU3RhdGUodHJ1ZSl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNzAwIHRleHQtd2hpdGUgdy1mdWxsIHB5LTIgcHgtNCByb3VuZGVkIGZvbnQtbWVkaXVtIGhvdmVyOmJnLXJlZC04MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOuztOyKpCDrj4TsoIRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiUHJvZ3Jlc3MiLCJjcmVhdGVDbGllbnQiLCJ2NCIsInV1aWR2NCIsInJlY29yZExvb3QiLCJ1c2VTdGFnZSIsInVzZU5vdGlmaWNhdGlvbiIsIkJhdHRsZVNjZW5lIiwib25Mb2dVcGRhdGUiLCJvbkdvbGRDaGFuZ2UiLCJvbkV4cGVyaWVuY2VHYWluZWQiLCJzaG93SW52ZW50b3J5Iiwic3VwYWJhc2UiLCJjdXJyZW50U3RhZ2UiLCJzdGFnZVByb2dyZXNzIiwiaW5jcmVtZW50S2lsbGVkTW9uc3RlckNvdW50Iiwic2V0Qm9zc0JhdHRsZVN0YXRlIiwiYWRkTm90aWZpY2F0aW9uIiwiY2hhcmFjdGVyIiwic2V0Q2hhcmFjdGVyIiwiYmF0dGxlU3RhdGUiLCJzZXRCYXR0bGVTdGF0ZSIsImlzSW5CYXR0bGUiLCJjdXJyZW50TW9uc3RlciIsImxhc3REYW1hZ2VEZWFsdCIsImxhc3REYW1hZ2VSZWNlaXZlZCIsImJhdHRsZVR1cm4iLCJpc0F1dG9Nb2RlIiwiaXNEYXRhTG9hZGVkIiwic2V0SXNEYXRhTG9hZGVkIiwiZ2FtZURhdGEiLCJzZXRHYW1lRGF0YSIsImdvbGQiLCJiYXR0bGVUaW1lciIsInNldEJhdHRsZVRpbWVyIiwibG9hZENoYXJhY3RlckRhdGEiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGhFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiY2hhcmFjdGVyRGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiZ2FtZURhdGFFcnJvciIsIm1heWJlU2luZ2xlIiwiZmlyc3RTdGFnZSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibGltaXQiLCJkZWZhdWx0U3RhZ2VJZCIsIm5ld0dhbWVEYXRhIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJ1c2VyX2lkIiwiY3VycmVudF9zdGFnZV9pZCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwibmFtZSIsImxldmVsIiwiTnVtYmVyIiwibWF4SHAiLCJtYXhfaHAiLCJjdXJyZW50SHAiLCJhdHRhY2siLCJwaHlzaWNhbF9hdHRhY2siLCJkZWZlbnNlIiwicGh5c2ljYWxfZGVmZW5zZSIsImF0dGFja1NwZWVkIiwiYXR0YWNrX3NwZWVkIiwic3Bhd25Nb25zdGVyIiwibW9uc3RlcnNEYXRhIiwibGVuZ3RoIiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZWxlY3RlZE1vbnN0ZXIiLCJwcmV2IiwiZXhwIiwiaXRlbURyb3BDaGFuY2UiLCJpdGVtX2Ryb3BfY2hhbmNlIiwiaXNCb3NzU3RhZ2UiLCJpc0Jvc3NCYXR0bGUiLCJib3NzTW9uc3RlciIsImJvc3NEYXRhIiwiYm9zc0Vycm9yIiwibm93IiwidHlwZSIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJub3JtYWxNb25zdGVycyIsIm1vbnN0ZXJDb3VudCIsImluIiwibWFwIiwibSIsImNyZWF0ZURlZmF1bHRNb25zdGVyIiwiY3VycmVudE1vbnN0ZXJJZCIsImF2YWlsYWJsZU1vbnN0ZXJzIiwiZmlsdGVyIiwibW9uc3RlciIsIm1vbnN0ZXJzIiwiZGVmYXVsdE1vbnN0ZXIiLCJtYXgiLCJjYWxjdWxhdGVEYW1hZ2UiLCJhdHRhY2tlciIsImRlZmVuZGVyIiwiYmFzZURhbWFnZSIsInZhcmlhbmNlIiwicm91bmQiLCJwcm9ncmVzc0JhdHRsZSIsImlzTmFOIiwiY2hhcmFjdGVySHAiLCJtb25zdGVySHAiLCJkYW1hZ2VUb01vbnN0ZXIiLCJ1cGRhdGVkTW9uc3RlckhwIiwiZGFtYWdlVG9DaGFyYWN0ZXIiLCJ1cGRhdGVkQ2hhcmFjdGVySHAiLCJoYW5kbGVNb25zdGVyRGVmZWF0IiwiaGFuZGxlQ2hhcmFjdGVyRGVmZWF0IiwiZ29sZEdhaW5lZCIsImV4cEdhaW5lZCIsImN1cnJlbnRHb2xkIiwibmV3R29sZCIsIuuqrOyKpO2EsCIsIu2ajeuTneqzqOuTnCIsIu2YhOyerOqzqOuTnCIsIuyDiOqzqOuTnCIsImlzQm9zcyIsInNldFRpbWVvdXQiLCJsb290RGF0YSIsIml0ZW1zIiwidGhlbiIsImNhdGNoIiwiZXJyIiwiUHJvbWlzZSIsInJlc29sdmUiLCLrqqzsiqTthLBIUCIsIuy6kOumre2EsEhQIiwiYmF0dGxlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ0b2dnbGVBdXRvRmlnaHQiLCJ0aW1lciIsImNsZWFyVGltZW91dCIsImludGVydmFsIiwiZGl2IiwiY2xhc3NOYW1lIiwiaGVhbHRoUGVyY2VudCIsImgzIiwidmFsdWUiLCJwIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImlzQm9zc0F2YWlsYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/battle/BattleScene.tsx\n");

/***/ })

};
;